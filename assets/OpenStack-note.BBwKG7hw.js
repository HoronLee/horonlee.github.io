import{_ as g}from"./ValaxyMain.vue_vue_type_style_index_0_lang.BKY0BFev.js";import"./chunks/@vueuse/motion.C1YF0VrX.js";import{d as y,u as c,a as E}from"./chunks/vue-router.B0lpXBWQ.js";import{X as o,b3 as C,b_ as l,be as h,_ as i,a5 as s,bB as B,b5 as u}from"./framework.tSB2Odh-.js";import"./app.CfWrNu88.js";import"./chunks/dayjs.BmWuu2Zz.js";import"./chunks/vue-i18n.CP2UHYEb.js";import"./chunks/pinia.BF0-M7Fk.js";import"./chunks/nprogress.YXB5kar1.js";/* empty css                    */import"./YunComment.vue_vue_type_style_index_0_lang.DoC94HOc.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.CBF25nPr.js";import"./post.TKccRjPH.js";const b=y("/posts/OpenStack-note",async k=>JSON.parse('{"title":"OpenStack运维笔记","description":"","frontmatter":{"title":"OpenStack运维笔记","businesscard":true,"date":"2023-07-02 13:03:41","tags":["CentOS","Linux","OpenStack"],"categories":["服务器运维","云计算","OpenStack"],"cover":"https://tse1-mm.cn.bing.net/th/id/OIP-C.CZwj5SbW0RXNrztZceTZtwHaEK?pid=ImgDet&rs=1"},"headers":[],"relativePath":"pages/posts/OpenStack-note.md","lastUpdated":1767692976000}'),{lazy:(k,t)=>k.name===t.name}),q={__name:"OpenStack-note",setup(k,{expose:t}){const{data:e}=b(),r=c(),F=E(),n=Object.assign(F.meta.frontmatter||{},e.value?.frontmatter||{});return r.currentRoute.value.data=e.value,u("valaxy:frontmatter",n),globalThis.$frontmatter=n,t({frontmatter:{title:"OpenStack运维笔记",businesscard:!0,date:"2023-07-02 13:03:41",tags:["CentOS","Linux","OpenStack"],categories:["服务器运维","云计算","OpenStack"],cover:"https://tse1-mm.cn.bing.net/th/id/OIP-C.CZwj5SbW0RXNrztZceTZtwHaEK?pid=ImgDet&rs=1"}}),(a,p)=>{const d=g;return C(),o(d,{frontmatter:B(n)},{"main-content-md":l(()=>[...p[0]||(p[0]=[i("h1",{id:"环境准备",tabindex:"-1"},[s("环境准备 "),i("a",{class:"header-anchor",href:"#环境准备","aria-label":'Permalink to "环境准备"'},"​")],-1),i("h2",{id:"hostname配置-controller-compute",tabindex:"-1"},[s("hostname配置（controller+compute） "),i("a",{class:"header-anchor",href:"#hostname配置-controller-compute","aria-label":'Permalink to "hostname配置（controller+compute）"'},"​")],-1),i("ol",null,[i("li",null,[i("code",null,"hostnamectl set-hostname $hostname"),s(" 、"),i("code",null,"bash")]),i("li",null,[i("code",null,"vi /etc/hosts"),s("编辑host文件")]),i("li",null,"ping一下测试连通性")],-1),i("h2",{id:"修改网卡配置为静态ip-controller-compute",tabindex:"-1"},[s("修改网卡配置为静态ip（controller+compute） "),i("a",{class:"header-anchor",href:"#修改网卡配置为静态ip-controller-compute","aria-label":'Permalink to "修改网卡配置为静态ip（controller+compute）"'},"​")],-1),i("ol",null,[i("li",null,[s("vim /etc/sysconfig/network-scripts/ifcfg-$网卡名"),i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"TYPE"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Ethernet     "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," 不可更改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"BOOTPROTO"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"static")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DEFROUTE"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"yes")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"NAME"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"eno1     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DEVICE"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"eno1    "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," 不可更改，与设备名一致")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"ONBOOT"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"yes")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"IPADDR"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"192"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"168"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"100"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"10"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"  #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," controller和compute不一样")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"NETMASK"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"255"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"255"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"255"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,"systemctl restart network")],-1),i("h2",{id:"关闭防火墙和selinux-并设置不开机自启动-controller-compute",tabindex:"-1"},[s("关闭防火墙和selinux，并设置不开机自启动（controller+compute） "),i("a",{class:"header-anchor",href:"#关闭防火墙和selinux-并设置不开机自启动-controller-compute","aria-label":'Permalink to "关闭防火墙和selinux，并设置不开机自启动（controller+compute）"'},"​")],-1),i("ol",null,[i("li",null,"systemctl stop firewalld"),i("li",null,"systemctl disable firewalld"),i("li",null,"setenforce 0"),i("li",null,'sed -i "s/SELINUX=.*/SELINUX=disabled/" /etc/selinux/config')],-1),i("h2",{id:"vsftp服务配置-controller",tabindex:"-1"},[s("vsftp服务配置（controller） "),i("a",{class:"header-anchor",href:"#vsftp服务配置-controller","aria-label":'Permalink to "vsftp服务配置（controller）"'},"​")],-1),i("ol",null,[i("li",null,[s("安装ftp服务"),i("code",null,"yum install -y vsftpd")]),i("li",null,[s("在配置文件中加入配置项"),i("code",null,'echo "anon_root=/opt" >> /etc/vsftpd/vsftpd.conf ')]),i("li",null,[i("code",null,"systemctl start vsftpd"),s("、"),i("code",null,"systemctl enable vsftpd")])],-1),i("h2",{id:"配置yum源-controller-compute",tabindex:"-1"},[s("配置yum源（Controller+Compute） "),i("a",{class:"header-anchor",href:"#配置yum源-controller-compute","aria-label":'Permalink to "配置yum源（Controller+Compute）"'},"​")],-1),i("ol",null,[i("li",null,[s("删除自带的所有yum仓库"),i("code",null,"rm -rf /etc/yum.repos.d/*")]),i("li",null,[s("将比赛给予的yum源配置完毕 "),i("code",null,"vi /etc/yum.repos.d/http.repo"),i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[centos]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"centos")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"baseurl"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"http://10.3.61.229/centos")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"gpgcheck"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"enabled"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[iaas]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"iaas")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"baseurl"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"http://10.3.61.229/openstack/iaas-repo")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"gpgcheck"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"enabled"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("测试"),i("code",null,"yum clean && yum repolist")])],-1),i("h2",{id:"配置yum源-demo",tabindex:"-1"},[s("配置yum源（Demo） "),i("a",{class:"header-anchor",href:"#配置yum源-demo","aria-label":'Permalink to "配置yum源（Demo）"'},"​")],-1),i("h3",{id:"controller",tabindex:"-1"},[s("controller "),i("a",{class:"header-anchor",href:"#controller","aria-label":'Permalink to "controller"'},"​")],-1),i("blockquote",null,[i("p",null,"镜像准备")],-1),i("ol",null,[i("li",null,[s("创建两个文件夹"),i("code",null,"mkdir /opt/{centos7-2009,iaas-train}")]),i("li",null,[s("挂载镜像"),i("code",null,"mount /root/CentOS-7-x86_64-DVD-2009.iso /mnt/")]),i("li",null,[s("复制iso内容文件到指定文件夹"),i("code",null,"cp -r /mnt/* /opt/centos7-2009/")]),i("li",null,[s("卸载当前镜像"),i("code",null,"umount /mnt/")]),i("li",null,[s("挂载镜像"),i("code",null,"mount /root/CentOS-7-x86_64-DVD-2009.iso /mnt/")]),i("li",null,[s("复制iso内容文件到指定文件夹"),i("code",null,"cp -r /mnt/* /opt/iaas-train/")]),i("li",null,[s("卸载当前镜像"),i("code",null,"umount /mnt/")])],-1),i("blockquote",null,[i("p",null,"yum源配置")],-1),i("p",null,[i("strong",null,"Controller"),i("code",null,"mv /etc/yum.repos.d/* /media/"),i("code",null,"cat /etc/yum.repos.d/yum.repo")],-1),i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[centos]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"centos7-"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"2009")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"baseurl"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"file:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"///opt/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"centos7-"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"2009")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"gpgcheck"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"enabled"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[openstack]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"openstack-iaas")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"baseurl"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"file:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"///opt/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"iaas-train/iaas-repo")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"gpgcheck"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"enabled"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,[i("strong",null,"Compute")],-1),i("blockquote",null,[i("p",null,"指向了controller的ftp对外公开的地址")],-1),i("p",null,[i("code",null,"mv /etc/yum.repos.d/* /media/"),i("code",null,"cat /etc/yum.repos.d/yum.repo")],-1),i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[centos]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"centos7-"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"2009")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"baseurl"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"ftp:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"//"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"controller/centos7-"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"2009")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"gpgcheck"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"enabled"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[openstack]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"openstack-iaas")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"baseurl"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"ftp:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"//"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"controller"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/iaas-train/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"iaas-repo")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"gpgcheck"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"enabled"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("h2",{id:"提前分区磁盘-仅compute",tabindex:"-1"},[s("提前分区磁盘（仅compute） "),i("a",{class:"header-anchor",href:"#提前分区磁盘-仅compute","aria-label":'Permalink to "提前分区磁盘（仅compute）"'},"​")],-1),i("ol",null,[i("li",null,[s("取消挂载"),i("code",null,"umount /mnt")]),i("li",null,[s("取消vdb盘的自动挂载 "),i("code",null,"vi /etc/fstab"),s(" 将最后一行 /dev/vdb /mnt auto defaults,nofail,x-systemd.requires=cloud-init.service,comment=cloudconfig 0 2 删除")])],-1),i("h3",{id:"分区磁盘",tabindex:"-1"},[s("分区磁盘 "),i("a",{class:"header-anchor",href:"#分区磁盘","aria-label":'Permalink to "分区磁盘"'},"​")],-1),i("ol",null,[i("li",null,[i("code",null,"fdisk /dev/vdb")]),i("li",null,"总共分4个区（10G+10G+10G+5G）"),i("li",null,[i("code",null,"n p enter enter +10G")]),i("li",null,[i("code",null,"n p enter enter +10G")]),i("li",null,[i("code",null,"n p enter enter +10G")]),i("li",null,[i("code",null,"p")]),i("li",null,[i("code",null,"w")]),i("li",null,[s("检查"),i("code",null,"lsblk")])],-1),i("h1",{id:"安装openstack",tabindex:"-1"},[s("安装openstack "),i("a",{class:"header-anchor",href:"#安装openstack","aria-label":'Permalink to "安装openstack"'},"​")],-1),i("blockquote",null,[i("p",null,"组件预览 ⚠如果没有placement组件，则nova组件无法正常工作")],-1),i("table",null,[i("thead",null,[i("tr",null,[i("th",{style:{"text-align":"left"}},"组件名称"),i("th",{style:{"text-align":"center"}},"Controller"),i("th",{style:{"text-align":"center"}},"Compute"),i("th",{style:{"text-align":"center"}},"作用")])]),i("tbody",null,[i("tr",null,[i("td",{style:{"text-align":"left"}},"Keystone"),i("td",{style:{"text-align":"center"}},"√"),i("td",{style:{"text-align":"center"}},"×"),i("td",{style:{"text-align":"center"}},"身份验证")]),i("tr",null,[i("td",{style:{"text-align":"left"}},"Glance"),i("td",{style:{"text-align":"center"}},"√"),i("td",{style:{"text-align":"center"}},"×"),i("td",{style:{"text-align":"center"}},"镜像管理")]),i("tr",null,[i("td",{style:{"text-align":"left"}},"Placement"),i("td",{style:{"text-align":"center"}},"√"),i("td",{style:{"text-align":"center"}},"×"),i("td",{style:{"text-align":"center"}},"放置服务")]),i("tr",null,[i("td",{style:{"text-align":"left"}},"Nova"),i("td",{style:{"text-align":"center"}},"√"),i("td",{style:{"text-align":"center"}},"√"),i("td",{style:{"text-align":"center"}},"计算服务")]),i("tr",null,[i("td",{style:{"text-align":"left"}},"Neutron"),i("td",{style:{"text-align":"center"}},"√"),i("td",{style:{"text-align":"center"}},"√"),i("td",{style:{"text-align":"center"}},"网络服务")]),i("tr",null,[i("td",{style:{"text-align":"left"}},"Dashboard"),i("td",{style:{"text-align":"center"}},"√"),i("td",{style:{"text-align":"center"}},"×"),i("td",{style:{"text-align":"center"}},"管理面板")])])],-1),i("h2",{id:"安装openstack-iaas软件包-controller-compute",tabindex:"-1"},[s("安装openstack-iaas软件包（controller+compute） "),i("a",{class:"header-anchor",href:"#安装openstack-iaas软件包-controller-compute","aria-label":'Permalink to "安装openstack-iaas软件包（controller+compute）"'},"​")],-1),i("p",null,[i("code",null,"yum install openstack-iaas -y")],-1),i("h2",{id:"修改初始脚本文件",tabindex:"-1"},[s("修改初始脚本文件 "),i("a",{class:"header-anchor",href:"#修改初始脚本文件","aria-label":'Permalink to "修改初始脚本文件"'},"​")],-1),i("ol",null,[i("li",null,"vi /etc/openstack/openrc.sh"),i("li",null,"删除第一列注释ctrl+v，↓到最后一行单击n"),i("li",null,[s("填充大部分密码："),i("code",null,":%s/PASS=/PASS=000000/")]),i("li",null,[s("补全遗漏的密码，第73行（:set number）："),i("code",null,"METADATA_SECRET=000000"),s("、第6行和第15行的主机密码。")]),i("li",null,[i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$HOST_IP"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"10"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"3"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"61"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"245")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"HOST_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$HOST_NAME"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"controller")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$HOST_IP_NODE"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"10"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"3"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"61"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"224")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$HOST_PASS_NODE"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$HOST_NAME_NODE"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"compute")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$network_segment_IP"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"10"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"3"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"61"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"/"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"24")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$RABBIT_USER"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"openstack")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"RABBIT_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DB_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$DOMAIN_NAME"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"demo")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"ADMIN_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DEMO_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"KEYSTONE_DBPASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"GLANCE_DBPASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"GLANCE_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"PLACEMENT_DBPASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"PLACEMENT_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"NOVA_DBPASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"NOVA_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"NEUTRON_DBPASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"NEUTRON_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"METADATA_SECRET"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$INTERFACE_NAME"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"eth1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$Physical_NAME"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"provider")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$minvlan"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"101")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$maxvlan"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"200")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"CINDER_DBPASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"CINDER_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$BLOCK_DISK"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"vdb1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"SWIFT_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$OBJECT_DISK"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"vdb2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$STORAGE_LOCAL_NET_IP"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"10"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"3"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"61"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"225"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"（计算节点网络段IP，因为这里计算节点的网络段与管理段使用的是同一网络，所以为计算节点的管理段IP）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"TROVE_DBPASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"TROVE_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"HEAT_DBPASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"HEAT_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"CEILOMETER_DBPASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"CEILOMETER_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"AODH_DBPASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"AODH_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"ZUN_DBPASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"ZUN_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"KURYR_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"OCTAVIA_DBPASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"OCTAVIA_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"MANILA_DBPASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"MANILA_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$SHARE_DISK"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"vdb3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"CLOUDKITTY_DBPASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"CLOUDKITTY_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"BARBICAN_DBPASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"BARBICAN_PASS"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"000000")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("运行脚本"),i("code",null,"iaas-pre-host.sh")]),i("li",null,"重新连接服务器")],-1),i("h2",{id:"安装数据库-调优-controller",tabindex:"-1"},[s("安装数据库&调优（controller） "),i("a",{class:"header-anchor",href:"#安装数据库-调优-controller","aria-label":'Permalink to "安装数据库&调优（controller）"'},"​")],-1),i("ol",null,[i("li",null,[s("安装mysql"),i("code",null,"iaas-install-mysql.sh")]),i("li",null,[s("配置文件调优"),i("code",null,"vi /etc/my.cnf"),i("ol",null,[i("li",null,[s("数据库支持大小写"),i("code",null,"lower_case_table_names=1")]),i("li",null,[s("数据库缓存"),i("code",null,"innodb_buffer_pool_size=4G")]),i("li",null,[s("数据库的log buffer即redo日志缓冲"),i("code",null,"innodb_log_buffer_size=64M")]),i("li",null,[s("设置数据库的redo log即redo日志大小"),i("code",null,"innodb_log_file_size=256M")]),i("li",null,[s("数据库的redo log文件组即redo日志的个数配置"),i("code",null,"innodb_log_files_in_group=2")]),i("li",null,[s("保存退出后重启服务"),i("code",null,"systemctl restart mariadb")]),i("li",null,[s("参数检查"),i("code",null,`mysql -uroot -p000000 -e "show variables like 'innodb_%';"`)])])])],-1),i("h2",{id:"keystone安装使用-controller",tabindex:"-1"},[s("Keystone安装使用（controller） "),i("a",{class:"header-anchor",href:"#keystone安装使用-controller","aria-label":'Permalink to "Keystone安装使用（controller）"'},"​")],-1),i("blockquote",null,[i("p",null,[s("每次openstack操作引入环境变量 "),i("code",null,"source /etc/keystone/admin-openrc.sh")])],-1),i("blockquote",null,[i("p",null,"在controller节点上使用iaas-install-keystone.sh脚本安装Keystone服务。安装完成后，使用相关命令，创建用户chinaskill，密码为000000。完成后提交控制节点的用户名、密码和IP地址到答题框。")],-1),i("ol",null,[i("li",null,[s("安装keystone"),i("code",null,"iaas-install-keystone.sh")]),i("li",null,[s("创建用户"),i("code",null,"chinaskill"),s("："),i("code",null,"openstack user create --password 000000 chinaskill")]),i("li",null,[s("列出用户表："),i("code",null,"openstack user list")])],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@controller "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# openstack user list")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+----------------------------------+------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                               |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+----------------------------------+------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," d772a4faa23843dc9b3b19dd20fef6ee"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," admin"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," bb98134937d748b4a4f2abaea41a8cb2"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," demo"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 078316ff563447f0af17d5fb4186f6a1"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," chinaskill"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+----------------------------------+------------+")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("h2",{id:"glance安装使用-controller",tabindex:"-1"},[s("Glance安装使用（controller） "),i("a",{class:"header-anchor",href:"#glance安装使用-controller","aria-label":'Permalink to "Glance安装使用（controller）"'},"​")],-1),i("blockquote",null,[i("p",null,"在controller节点上使用iaas-install-glance.sh脚本安装glance 服务。使用命令将提供的cirros-0.3.4-x86_64-disk.img镜像（该镜像在HTTP服务中，可自行下载）上传至平台，命名为cirros，并设置最小启动需要的硬盘为10G，最小启动需要的内存为1G。完成后提交控制节点的用户名、密码和IP地址到答题框。")],-1),i("ol",null,[i("li",null,[s("安装Glance"),i("code",null,"iaas-install-glance.sh")]),i("li",null,[s("下载测试镜像"),i("code",null,"curl -O http://10.3.61.229/openstack/images/cirros-0.3.4-x86_64-disk.img")]),i("li",null,[s("创建镜像"),i("code",null,"openstack image create --min-disk 10 --min-ram 1024 --file cirros-0.3.4-x86_64-disk.img cirros")]),i("li",null,[s("创建centos镜像"),i("code",null,"openstack image create --disk-format qcow2 --container-format bare --public --file /root/CentOS-7-x86_64-2009.qcow2 centos7-2009")]),i("li",null,[s("列出镜像列表"),i("code",null,"openstack image show cirros")]),i("li",null,[s("检测结果"),i("code",null,"openstack-service status|grep glance")])],-1),i("h2",{id:"placement安装使用-controller",tabindex:"-1"},[s("Placement安装使用（controller） "),i("a",{class:"header-anchor",href:"#placement安装使用-controller","aria-label":'Permalink to "Placement安装使用（controller）"'},"​")],-1),i("ol",null,[i("li",null,[s("安装Placement"),i("code",null,"iaas-install-placement.sh")])],-1),i("h2",{id:"nova安装使用-controller-compute",tabindex:"-1"},[s("Nova安装使用（controller+compute） "),i("a",{class:"header-anchor",href:"#nova安装使用-controller-compute","aria-label":'Permalink to "Nova安装使用（controller+compute）"'},"​")],-1),i("blockquote",null,[i("p",null,"⚠先在controller上安装Placement组件 在controller节点和compute节点上分别使用iaas-install-placement.sh脚本、iaas-install-nova -controller.sh脚本、iaas-install-nova-compute.sh脚本安装Nova服务。安装完成后，请修改nova相关配置文件，解决因等待时间过长而导致虚拟机启动超时从而获取不到IP地址而报错失败的问题。配置完成后提交controller点的用户名、密码和IP地址到答题框。")],-1),i("h3",{id:"controller-compute",tabindex:"-1"},[s("controller+compute "),i("a",{class:"header-anchor",href:"#controller-compute","aria-label":'Permalink to "controller+compute"'},"​")],-1),i("ol",null,[i("li",null,[s("控制节点安装nova"),i("code",null,"iaas-install-nova-controller.sh")]),i("li",null,[s("（controller的dashboard装完后装）计算节点安装nova"),i("code",null,"iaas-install-nova-compute.sh")])],-1),i("h3",{id:"nova优化",tabindex:"-1"},[s("Nova优化 "),i("a",{class:"header-anchor",href:"#nova优化","aria-label":'Permalink to "Nova优化"'},"​")],-1),i("blockquote",null,[i("p",null,[s("解决因等待时间过长而导致虚拟机启动超时从而获取不到IP地址而报错失败的问题 ⚠在双节点Nova安装完毕后再优化 双节点执行"),i("code",null,"openstack-config --set /etc/nova/nova.conf DEFAULT vif_plugging_is_fatal false")])],-1),i("p",null,[s("检测"),i("code",null,"cat /etc/nova/nova.conf")],-1),i("h2",{id:"neutron安装使用-controller-compute",tabindex:"-1"},[s("Neutron安装使用（controller+compute） "),i("a",{class:"header-anchor",href:"#neutron安装使用-controller-compute","aria-label":'Permalink to "Neutron安装使用（controller+compute）"'},"​")],-1),i("h3",{id:"controller-compute-1",tabindex:"-1"},[s("controller+compute "),i("a",{class:"header-anchor",href:"#controller-compute-1","aria-label":'Permalink to "controller+compute"'},"​")],-1),i("ol",null,[i("li",null,[s("控制节点安装neutron"),i("code",null,"iaas-install-neutron-controller.sh")]),i("li",null,[s("（controller的dashboard装完后装）计算节点安装neutron"),i("code",null,"iaas-install-neutron-compute.sh")]),i("li",null,[s("检测"),i("code",null,"openstack-service status"),s("、"),i("code",null,"openstack network agent list")])],-1),i("h2",{id:"dashboard安装使用-controller",tabindex:"-1"},[s("Dashboard安装使用（controller） "),i("a",{class:"header-anchor",href:"#dashboard安装使用-controller","aria-label":'Permalink to "Dashboard安装使用（controller）"'},"​")],-1),i("blockquote",null,[i("p",null,"在controller节点上使用iaas-install-dashboad.sh脚本安装dashboad服务。安装完成后，将Dashboard中的Djingo数据修改为存储在文件中（此种修改解决了ALL-in-one快照在其他云平台Dashboard不能访问的问题）。完成后提交控制节点的用户名、密码和IP地址到答题框。")],-1),i("ol",null,[i("li",null,[s("安装dashboard"),i("code",null,"iaas-install-dashboad.sh")]),i("li",null,[s("优化： "),i("ol",null,[i("li",null,[s("将Dashboard中的Djingo数据修改为存储在文件中"),i("code",null,"vi +104 /etc/openstack-dashboard/local_settings"),s("、"),i("code",null,"ESSION_ENGINE = 'django.contrib.sessions.backends.file'"),s("（将此行的cache修改为file）")])])]),i("li",null,[s("检测"),i("code",null,"curl -L http://controller/dashboard"),s("、"),i("code",null,"cat /etc/openstack-dashboard/local_settings |grep SESSION")])],-1),i("h1",{id:"运维题目",tabindex:"-1"},[s("运维题目 "),i("a",{class:"header-anchor",href:"#运维题目","aria-label":'Permalink to "运维题目"'},"​")],-1),i("h2",{id:"glance使用-比赛没有-controller",tabindex:"-1"},[s("Glance使用（比赛没有）（controller） "),i("a",{class:"header-anchor",href:"#glance使用-比赛没有-controller","aria-label":'Permalink to "Glance使用（比赛没有）（controller）"'},"​")],-1),i("ol",null,[i("li",null,[s("使用镜像cirros-0.3.4-x86_64-disk.img通过命令上传镜像至OpenStack中"),i("code",null,"glance image-create --name cirros-0.3.4 --disk-format qcow2 --container-format bare --progress")]),i("li",null,[s("查看镜像"),i("code",null,"glance image-list")]),i("li",null,[s("镜像的详细信息"),i("code",null,"glance image-show $ID")]),i("li",null,[s("更新镜像"),i("code",null,"glance help image-update ")]),i("li",null,[s("如果需要改变镜像启动硬盘最低要求值（min-disk）1G，min-disk默认单位为G。使用glance image-update更新镜像信息"),i("code",null,"glance image-update --min-disk=1 $ID")]),i("li",null,[s("使用命令更新镜像启动内存最低要求值（min-ram）为1G，min-ram默认单位为M。使用glance image-update更新镜像"),i("code",null,"glance image-update --min-disk=1 $ID")]),i("li",null,[s("使用命令更新镜像启动内存最低要求值（min-ram）为1G，min-ram默认单位为M。使用glance image-update更新镜像"),i("code",null,"glance image-update --min-ram=1024 $ID")]),i("li",null,[s("删除上传至OpenStack平台中的镜像"),i("code",null,"glance image-delete $ID")])],-1),i("h2",{id:"nova使用-controller-compute",tabindex:"-1"},[s("Nova使用（controller+compute） "),i("a",{class:"header-anchor",href:"#nova使用-controller-compute","aria-label":'Permalink to "Nova使用（controller+compute）"'},"​")],-1),i("blockquote",null,[i("p",null,"flavor类型为OpenStack在创建云主机时需要提供的云主机大小类型，云主机的资源大小可使用不同的flavor类型来进行定义。")],-1),i("ol",null,[i("li",null,[s("使用命令创建一个flavor，10G的硬盘大小，1G内存，2颗vcpu，ID为1，名称为centos。"),i("code",null,"openstack flavor create --disk 10 --ram 1024 --vcpus 2 --id 1 centos")]),i("li",null,[s("查看flavor类型列表"),i("code",null,"openstack flavor list")]),i("li",null,[s("flavor类型的详细信息"),i("code",null,"openstack flavor show centos")])],-1),i("blockquote",null,[i("p",null,"访问安全组为是OpenStack提供给云主机的一个访问策略控制组，通过安全组中的策略可以控制云主机的出入访问规则。")],-1),i("ol",null,[i("li",null,[s("查看当前所创建的访问安全组列表"),i("code",null,"openstack security group list")]),i("li",null,[s("查看安全组中的安全规则"),i("code",null,"openstack security group rule list default")]),i("li",null,[s("查看规则的详细信息"),i("code",null,"openstack security group rule show $ID")]),i("li",null,"创建安全组（都可以在dashboard完成）")],-1),i("h2",{id:"cinder块存储安装使用-controller-compute",tabindex:"-1"},[s("Cinder块存储安装使用（controller+compute） "),i("a",{class:"header-anchor",href:"#cinder块存储安装使用-controller-compute","aria-label":'Permalink to "Cinder块存储安装使用（controller+compute）"'},"​")],-1),i("blockquote",null,[i("p",null,"在控制节点和计算节点上分别使用iaas-install-swift-controller.sh和iaas-install-swift-compute.sh脚本安装Swift服务。安装完成后，使用命令创建一个名叫examcontainer的容器，将cirros-0.3.4-x86_64-disk.img镜像上传到examcontainer容器中，并设置分段存放，每一段大小为10M。")],-1),i("ol",null,[i("li",null,[s("安装：控制节点"),i("code",null,"iaas-install-cinder-controller.sh"),s("、计算节点"),i("code",null,"iaas-install-cinder-compute.sh")]),i("li",null,[s("计算节点分一个5G的分区"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"fdisk"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /dev/vdb")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"n"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," enter"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," enter"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," enter"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," enter")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"n"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," enter"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," +5G")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"p")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"w")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"lsblk")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("计算节点扩容块存储 "),i("ol",null,[i("li",null,[s("创建物理卷"),i("code",null,"pvcreate /dev/vdb5")]),i("li",null,[s("扩展cinder-volume卷组，加入到cinder块存储的后端存储中"),i("code",null,"vgextend cinder-volumes /dev/vdb5")]),i("li",null,[s("检测"),i("code",null,"vgdisplay")])])])],-1),i("p",null,[i("strong",null,"基本使用")],-1),i("ol",null,[i("li",null,[s("查询块存储服务状态"),i("code",null,"openstack volume service list")]),i("li",null,[s("建块存储，大小为2G，名称为“volume”"),i("code",null,"openstack volume create --size 2 volume")]),i("li",null,[s("查看块存储列表信息"),i("code",null,"openstack volume list")]),i("li",null,[s("查看某一块存储的详细信息"),i("code",null,"openstack volume show volume")]),i("li",null,[s("将创建的“volume”块存储添加至云主机“cirros-test”上"),i("code",null,"openstack server add volume cirros-test volume")]),i("li",null,[s("将 “volume” 卷大小从2G扩容至3G"),i("code",null,"openstack volume set --size 3 volume")]),i("li",null,[s("将扩容后的卷“volume”挂载至云主机“cirros-test”上"),i("code",null,"openstack server add volume centos_server volume"),s("、"),i("code",null,"openstack volume list")])],-1),i("h2",{id:"swift对象存储安装使用-controller-compute",tabindex:"-1"},[s("Swift对象存储安装使用（controller+compute） "),i("a",{class:"header-anchor",href:"#swift对象存储安装使用-controller-compute","aria-label":'Permalink to "Swift对象存储安装使用（controller+compute）"'},"​")],-1),i("blockquote",null,[i("p",null,"上传")],-1),i("ol",null,[i("li",null,[s("安装：控制节点"),i("code",null,"iaas-install-swift-controller.sh"),s("、计算节点"),i("code",null,"iaas-install-swift-compute.sh")]),i("li",null,[s("创建swift-test的容器"),i("code",null,"openstack container create swift-test")]),i("li",null,[s("上传镜像到容器中"),i("code",null,"swift upload swift-test -S 10000000 cirros-0.3.4-x86_64-disk.img")]),i("li",null,[s("创建本地文件结构"),i("code",null,"# mkdir test"),s("、"),i("code",null,"cp anaconda-ks.cfg test/")]),i("li",null,[s("在swift-test容器中创建一个object"),i("code",null,"openstack object create swift-test test/anaconda-ks.cfg ")]),i("li",null,[s("显示详细信息"),i("code",null,"openstack container show swift-test"),s("、"),i("code",null,"openstack object show swift-test test/anaconda-ks.cfg")]),i("li",null,[s("检测"),i("code",null,"openstack-service status | grep swift")])],-1),i("blockquote",null,[i("p",null,"下载")],-1),i("ol",null,[i("li",null,[s("将“swift-test”容器中“test/anaconda-ks.cfg”对象下载至本地/opt/目录下"),i("code",null,"cd /opt/"),s("、"),i("code",null,"openstack object save swift-test test/anaconda-ks.cfg")])],-1),i("blockquote",null,[i("p",null,"删除")],-1),i("ol",null,[i("li",null,[s("删除容器内的对象"),i("code",null,"openstack object delete swift-test test/anaconda-ks.cfg")]),i("li",null,[s("删除容器"),i("code",null,"openstack container delete swift-test"),i("ol",null,[i("li",null,"因为容器里有对象，所以不能直接删除")]),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@controller opt]# openstack container delete swift-test")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Conflict"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (HTTP "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"409"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") ("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Request-ID:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," tx1eef6ea7aae947a49bdb3-0064a37fcc"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")])])]),i("button",{class:"code-block-unfold-btn"})]),i("ol",{start:"2"},[i("li",null,[s("需要加一个参数"),i("code",null,"openstack container delete --recursive swift-test ")])])])],-1),i("blockquote",null,[i("p",null,"分片存储")],-1),i("ol",null,[i("li",null,[s("创建容器"),i("code",null,"swift post test")]),i("li",null,[s("上传镜像并分片存储（cirros-0.3.4-x86_64-disk.img镜像、每个片段10MB）"),i("code",null,"swift upload test -S 10000000 cirros-0.3.4-x86_64-disk.img")]),i("li",null,[s("查看cirros镜像的存储路径"),i("code",null,"swift stat test cirros-0.3.4-x86_64-disk.img")]),i("li",null,[s("查看存储路径中的数据片"),i("code",null,"swift list test_segments")])],-1),i("h2",{id:"manila文件共享安装使用-controller-compute",tabindex:"-1"},[s("Manila文件共享安装使用（controller+compute） "),i("a",{class:"header-anchor",href:"#manila文件共享安装使用-controller-compute","aria-label":'Permalink to "Manila文件共享安装使用（controller+compute）"'},"​")],-1),i("blockquote",null,[i("p",null,"在控制和计算节点上分别使用iaas-install-manila-controller.sh和iaas-install-manila-compute.sh脚本安装manila服务。安装服务后创建default_share_type共享类型（不使用驱动程序支持），接着创建一个大小为2G的共享存储名为share01并开放share01目录对OpenStack管理网段使用权限。最后提交控制节点的用户名、密码和IP地址到答题框。")],-1),i("ol",null,[i("li",null,[s("安装：控制节点"),i("code",null,"iaas-install-manila-controller.sh"),s("、计算节点"),i("code",null,"iaas-install-manila-compute.sh")]),i("li",null,[s("在控制节点主机，创建(不适用驱动程序支持)default_share_type共享类型"),i("code",null,"manila type-create default_share_type false")]),i("li",null,[s("在控制节点主机，创建一个大小为2G的共享存储名为share01并开放share01目录对OpenStack管理网段使用权限 "),i("ol",null,[i("li",null,[s("创建共享卷"),i("code",null,"manila create NFS 2 --name share01")]),i("li",null,[s("开放share01目录对OpenStack管理网段（自己所在的操作网段）使用权限"),i("code",null,"manila access-allow share01 ip 10.3.61.0/24 --access-level rw")])])]),i("li",null,[s("检测"),i("code",null,"manila access-list share01")]),i("li",null,[s("查看share01共享文件目录的访问路径"),i("code",null,"manila show share01 | grep path | cut -d'|' -f3"),i("code",null,"path = 10.3.61.225:/var/lib/manila/mnt/share-0c605af8-f232-4ff2-b5ad-f2c35047e4cb")]),i("li",null,[s("在OpenStack控制节点将share01共享目录挂载至/mnt目录下"),i("code",null,"mount -t nfs 10.3.61.225:/var/lib/manila/mnt/share-0c605af8-f232-4ff2-b5ad-f2c35047e4cb /mnt/")]),i("li",null,[s("检查"),i("code",null,"df -h")])],-1),i("h2",{id:"cloudkitty安装使用",tabindex:"-1"},[s("Cloudkitty安装使用 "),i("a",{class:"header-anchor",href:"#cloudkitty安装使用","aria-label":'Permalink to "Cloudkitty安装使用"'},"​")],-1),i("blockquote",null,[i("p",null,"使用iaas-install-cloudkitty.sh脚本安装cloudkitty服务，安装完毕后，启用hashmap评级模块，接着创建volume_thresholds组，创建服务匹配规则volume.size，并设置每GB的价格为0.01。接下来对应大量数据设置应用折扣，在组volume_thresholds中创建阈值，设置若超过50GB的阈值，应用2%的折扣（0.98）。设置完成后提交控制节点的用户名、密码和IP地址到答题框。")],-1),i("ol",null,[i("li",null,[s("控制节点安装"),i("code",null,"iaas-install-cloudkitty.sh")]),i("li",null,[s("引导环境变量"),i("code",null,"source /etc/keystone/admin-openrc.sh")]),i("li",null,[s("启用hashmap评级模块"),i("code",null,"openstack rating module enable hashmap ")]),i("li",null,[s("创建hashmap service"),i("code",null,"openstack rating hashmap service create volume.size")]),i("li",null,[s("创建hashmap service group"),i("code",null,"openstack rating hashmap group create volume_thresholds ")]),i("li",null,[s("创建volume单价"),i("code",null,"openstack rating hashmap mapping create -s [第4步创建的hashmap service的id] -g [第5步创建的hashmap service group的id] -t flat 0.01")]),i("li",null,[s("创建service rule"),i("code",null,"openstack rating hashmap threshold create -s [第4步创建的hashmap service的id] -g [第5步创建的hashmap service group的id] -t rate 50 0.98")]),i("li",null,[s("检测"),i("code",null,"cloudkitty module list"),s("、"),i("code",null,"cloudkitty hashmap threshold list -s $(cloudkitty hashmap service list |grep volume | awk -F '|' '{print $3}')")])],-1),i("blockquote",null,[i("p",null,"云主机计费")],-1),i("ol",null,[i("li",null,[s("创建云主机服务instance_test，通过命令创建service服务"),i("code",null,"openstack rating hashmap service create instance_test"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+---------------+--------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"          |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                           |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+---------------+--------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," instance_test"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 8c9cea7a-d2d3-4731-890c-926ef61679db"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+---------------+--------------------------------------+")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("并对其创建名为flavor_name的fields"),i("code",null,"openstack rating hashmap field create $ServiceID flavor_name"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+-------------+--------------------------------------+--------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Field"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                             |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                           |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+-------------+--------------------------------------+--------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," flavor_name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 18ee37dc-bc98-4091-a8d4-d3888e2dd6b1"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 8c9cea7a-d2d3-4731-890c-926ef61679db"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+-------------+--------------------------------------+--------------------------------------+")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("并设置规格为m1.small的云主机单价为1元"),i("code",null,"openstack rating hashmap mapping create --field-id $FieldID -t flat --value m1.small 1"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+----------+------------+------+--------------------------------------+------------+----------+------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Mapping"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                           |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Value"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Cost"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Type"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Field"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                             |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Group"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Project"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+----------+------------+------+--------------------------------------+------------+----------+------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," e3e87d6b-71e2-474b-a353-440824b3c37a"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," m1.small"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 1.00000000"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," flat"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 18ee37dc-bc98-4091-a8d4-d3888e2dd6b1"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+----------+------------+------+--------------------------------------+------------+----------+------------+")])])]),i("button",{class:"code-block-unfold-btn"})])])],-1),i("blockquote",null,[i("p",null,"镜像计费")],-1),i("ol",null,[i("li",null,[s("创建镜像收费服务image_size_test"),i("code",null,"openstack rating hashmap service create image_size_test"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+-----------------+--------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"            |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                           |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+-----------------+--------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," image_size_test"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 7bd8943d-fc5a-4860-b96e-61acab18f98a"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+-----------------+--------------------------------------+")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("为该服务单价设置为0.8元"),i("code",null,"openstack rating hashmap mapping create -s $ServiceID -t flat 0.8")])],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+-------+------------+------+----------+--------------------------------------+----------+------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Mapping"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                           |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Value"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Cost"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Type"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Field"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                           |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Group"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Project"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+-------+------------+------+----------+--------------------------------------+----------+------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 45be8ff6-0930-417f-b427-c4abeff5ac1c"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"  |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 0.80000000"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," flat"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 7bd8943d-fc5a-4860-b96e-61acab18f98a"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+-------+------------+------+----------+--------------------------------------+----------+------------+")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("blockquote",null,[i("p",null,"创建优惠服务")],-1),i("ol",null,[i("li",null,[s("创建名为dis_tests的服务"),i("code",null,"openstack rating hashmap service create dis_tests"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+-----------+--------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                           |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+-----------+--------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," dis_tests"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," deeb1874-7970-4c6a-a27c-6530c0894dcf"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+-----------+--------------------------------------+")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("为dis_tests服务设置单价为0.8元"),i("code",null,"openstack rating hashmap mapping create -s $ServiceID -t flat 0.8"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+-------+------------+------+----------+--------------------------------------+----------+------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Mapping"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                           |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Value"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Cost"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Type"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Field"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                           |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Group"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Project"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+-------+------------+------+----------+--------------------------------------+----------+------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ad1090df-c20f-4242-b924-20c11667f28a"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"  |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 0.80000000"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," flat"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," deeb1874-7970-4c6a-a27c-6530c0894dcf"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+-------+------------+------+----------+--------------------------------------+----------+------------+")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("设置dis_tests服务使用量超过10000时提供8折优惠"),i("code",null,"openstack rating hashmap threshold create -s $ServiceID -t rate 10000 0.8"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+----------------+------------+------+----------+--------------------------------------+----------+------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Threshold"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                         |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Level"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"          |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Cost"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Type"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Field"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                           |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Group"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Project"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+----------------+------------+------+----------+--------------------------------------+----------+------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 786c9bfb-3a67-4bce-851c-a10d6ad565fe"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 10000.00000000"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 0.80000000"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," rate"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," deeb1874-7970-4c6a-a27c-6530c0894dcf"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+----------------+------------+------+----------+--------------------------------------+----------+------------+")])])]),i("button",{class:"code-block-unfold-btn"})])])],-1),i("h2",{id:"barbican安装使用-controller",tabindex:"-1"},[s("Barbican安装使用（controller） "),i("a",{class:"header-anchor",href:"#barbican安装使用-controller","aria-label":'Permalink to "Barbican安装使用（controller）"'},"​")],-1),i("blockquote",null,[i("p",null,"使用iaas-install-barbican.sh脚本安装barbican服务，安装服务完毕后，使用openstack命令创建一个名为secret01的密钥，创建完成后提交控制节点的用户名、密码和IP地址到答题框。")],-1),i("ol",null,[i("li",null,[s("控制节点安装"),i("code",null,"iaas-install-barbican.sh")]),i("li",null,[s("创建一个名为secret01 的密钥"),i("code",null,"openstack secret store --name secret01 --payload secretkey"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+---------------+------------------------------------------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Field"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"         |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Value"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                  |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+---------------+------------------------------------------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Secret"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," href"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"   |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9311/v1/secrets/1e821d32-94b0-4b13-b1f5-0530a02db037"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"          |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," secret01"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                               |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Created"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                   |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Status"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                   |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Content"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," types"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                   |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Algorithm"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," aes"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                    |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Bit"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," length"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 256"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                    |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Secret"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," type"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"   |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," opaque"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                 |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Mode"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"          |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," cbc"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                    |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Expiration"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                   |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+---------------+------------------------------------------------------------------------+")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("查询secret列表信息"),i("code",null,"openstack secret list"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+------------------------------------------------------------------------+----------+---------------------------+--------+-----------------------------+-----------+------------+-------------+------+------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Secret"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," href"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                            |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Created"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                   |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Status"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Content"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," types"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"               |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Algorithm"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Bit"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," length"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Secret"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," type"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Mode"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Expiration"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+------------------------------------------------------------------------+----------+---------------------------+--------+-----------------------------+-----------+------------+-------------+------+------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9311/v1/secrets/1e821d32-94b0-4b13-b1f5-0530a02db037"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," secret01"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 2023-07-04T07:23:17+00:00"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ACTIVE"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"u"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"'default'"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," u'text/plain'}"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," aes"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        256"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," opaque"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," cbc"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"  |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+------------------------------------------------------------------------+----------+---------------------------+--------+-----------------------------+-----------+------------+-------------+------+------------+")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("获取secret01密钥的元数据"),i("code",null,"openstack secret get $Secrethref"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+---------------+------------------------------------------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Field"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"         |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Value"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                  |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+---------------+------------------------------------------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Secret"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," href"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"   |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9311/v1/secrets/1e821d32-94b0-4b13-b1f5-0530a02db037"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"          |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," secret01"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                               |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Created"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 2023-07-04T07:23:17+00:00"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                              |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Status"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ACTIVE"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                 |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Content"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," types"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"u"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"'default'"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," u'text/plain'}"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                            |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Algorithm"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," aes"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                    |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Bit"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," length"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 256"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                    |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Secret"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," type"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"   |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," opaque"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                 |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Mode"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"          |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," cbc"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                    |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Expiration"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                   |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+---------------+------------------------------------------------------------------------+")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("获取secret01密钥的数据"),i("code",null,"openstack secret get $Secrethref --payload"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+---------+-----------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Field"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"   |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Value"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+---------+-----------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Payload"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," secretkey"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+---------+-----------+")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("使用openstack命令生成并存储密钥"),i("code",null,"openstack secret order create --name secret02 --algorithm aes --bit-length 256 --mode cbc --payload-content-type application/octet-stream key"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+----------------+-----------------------------------------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Field"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"          |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Value"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                 |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+----------------+-----------------------------------------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Order"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," href"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9311/v1/orders/e0427665-312d-49d3-b2ba-b6c041793bc0"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Type"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"           |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Key"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                   |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Container"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," href"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," N/A"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                   |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Secret"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," href"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                  |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Created"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                  |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Status"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"         |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                  |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Error"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," code"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                  |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Error"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," message"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"  |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                  |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+----------------+-----------------------------------------------------------------------+")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("通过命令显示生成的密钥列表"),i("code",null,"openstack secret order list"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+-----------------------------------------------------------------------+------+----------------+------------------------------------------------------------------------+---------------------------+--------+------------+---------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Order"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," href"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                            |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Type"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Container"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," href"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Secret"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," href"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                            |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Created"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                   |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Status"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Error"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," code"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Error"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," message"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+-----------------------------------------------------------------------+------+----------------+------------------------------------------------------------------------+---------------------------+--------+------------+---------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9311/v1/orders/e0427665-312d-49d3-b2ba-b6c041793bc0"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Key"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"  |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," N/A"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"            |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9311/v1/secrets/81b762a7-9702-45b9-b673-04da4bd8da2e"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 2023-07-04T07:27:55+00:00"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ACTIVE"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"          |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+-----------------------------------------------------------------------+------+----------------+------------------------------------------------------------------------+---------------------------+--------+------------+---------------+")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("使用命令显示生成的密钥"),i("code",null,"openstack secret order get $Orderhref"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+----------------+------------------------------------------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Field"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"          |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Value"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                  |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+----------------+------------------------------------------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Order"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," href"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9311/v1/orders/e0427665-312d-49d3-b2ba-b6c041793bc0"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"  |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Type"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"           |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Key"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                    |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Container"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," href"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," N/A"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                    |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Secret"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," href"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9311/v1/secrets/81b762a7-9702-45b9-b673-04da4bd8da2e"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Created"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 2023-07-04T07:27:55+00:00"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                              |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Status"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"         |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ACTIVE"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                 |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Error"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," code"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                   |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Error"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," message"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"  |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                   |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+----------------+------------------------------------------------------------------------+")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("显示生成的密钥的元数据"),i("code",null,"openstack secret get $Secrethref"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+---------------+------------------------------------------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Field"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"         |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Value"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                  |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+---------------+------------------------------------------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Secret"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," href"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"   |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9311/v1/secrets/81b762a7-9702-45b9-b673-04da4bd8da2e"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"          |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," secret02"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                               |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Created"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 2023-07-04T07:27:55+00:00"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                              |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Status"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ACTIVE"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                 |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Content"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," types"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"u"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"'default'"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," u'application/octet-stream'}"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                              |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Algorithm"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," aes"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                    |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Bit"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," length"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 256"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                    |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Secret"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," type"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"   |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," symmetric"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                              |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Mode"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"          |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," cbc"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                    |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Expiration"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," None"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                                                   |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+---------------+------------------------------------------------------------------------+")])])]),i("button",{class:"code-block-unfold-btn"})])])],-1),i("h2",{id:"vpnaas安装使用",tabindex:"-1"},[s("VPNaaS安装使用 "),i("a",{class:"header-anchor",href:"#vpnaas安装使用","aria-label":'Permalink to "VPNaaS安装使用"'},"​")],-1),i("p",null,[i("em",null,"？")],-1),i("h2",{id:"openstack平台内存优化",tabindex:"-1"},[s("OpenStack平台内存优化 "),i("a",{class:"header-anchor",href:"#openstack平台内存优化","aria-label":'Permalink to "OpenStack平台内存优化"'},"​")],-1),i("blockquote",null,[i("p",null,"搭建完OpenStack平台后，关闭系统的内存共享，打开透明大页。完成后提交控制节点的用户名、密码和IP地址到答题框。")],-1),i("ol",null,[i("li",null,[s("在控制节点关闭系统的内存共享，打开透明大页"),i("code",null,"echo 'never' >> /sys/kernel/mm/transparent_hugepage/defrag")]),i("li",null,[s("检测"),i("code",null,"cat /sys/kernel/mm/transparent_hugepage/defrag")])],-1),i("h2",{id:"rabbitmq的优化",tabindex:"-1"},[s("RabbitMQ的优化 "),i("a",{class:"header-anchor",href:"#rabbitmq的优化","aria-label":'Permalink to "RabbitMQ的优化"'},"​")],-1),i("ol",null,[i("li",null,[s("系统级别修改"),i("code",null,"vi /etc/sysctl.conf"),s("最后一行添加"),i("code",null,"fs.file-max=10240")]),i("li",null,[s("使配置生效"),i("code",null,"sysctl -p")]),i("li",null,[s("用户级别修改"),i("code",null,"vi /etc/security/limits.conf"),s("最后两行添加"),i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"openstack  soft     nofile  "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"10240")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"openstack  hard     nofile  "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"10240")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("修改RabbitMQ配置"),i("code",null,"vi /usr/lib/systemd/system/rabbitmq-server.service"),s("在[Service]下添加一行参数如下："),i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"LimitNOFILE"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"10240")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("重启RabbitMQ服务"),i("code",null,"systemctl daemon-reload"),s("、"),i("code",null,"systemctl restart rabbitmq-server")]),i("li",null,[s("查看RabbitMQ的最大连接数"),i("code",null,"rabbitmqctl status"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Status"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," of"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," node"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rabbit@openstack")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},".."),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},".忽略输出."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"..")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{file_descriptors,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    [{total_limit,10140},")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    {total_used,53},")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    {sockets_limit,9124},")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    {sockets_used,51}]},")])])]),i("button",{class:"code-block-unfold-btn"})])])],-1),i("h2",{id:"镜像多用户共享",tabindex:"-1"},[s("镜像多用户共享 "),i("a",{class:"header-anchor",href:"#镜像多用户共享","aria-label":'Permalink to "镜像多用户共享"'},"​")],-1),i("ol",null,[i("li",null,[s("查看admin目前镜像"),i("code",null,"glance image-list"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+--------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                   |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"         |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+--------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 73a19ede-d989-4a09-92db-7405aba6f11b"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," centos7-2009"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 7796dc40-f07f-413f-8c07-2c968072743b"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," cirros"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+--------------+")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("查看所有项目"),i("code",null,"openstack project list"),s("、ID就是Member ID"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+----------------------------------+---------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                               |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+----------------------------------+---------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 02eeea98cfaa4a779c6be9e3b0547a6c"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," CSCC001"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 2f62b16c5ed74838a94f9b3057829335"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," demo"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," c58e2e39ee1344c997360cbd42802c7e"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," admin"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"   |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," f66d210661234530944806dc33692908"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," service"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+----------------------------------+---------+")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("共享目前admin所有的镜像"),i("code",null,"glance member-create $ImageID $MemberID"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"})])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("目前镜像还是pending状态，需要激活账号"),i("code",null,"glance member-update $ImageID $MemberID accepted"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+----------------------------------+----------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Image"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                             |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Member"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                        |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Status"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"   |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+----------------------------------+----------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 89301c7e-b0ff-4f22-957c-37c6d8cb8029"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," 02eeea98cfaa4a779c6be9e3b0547a6c"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," accepted"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------------------------------+----------------------------------+----------+")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,"然后那个项目里的用户就看得到共享的镜像了")],-1),i("h2",{id:"linux系统句柄优化",tabindex:"-1"},[s("Linux系统句柄优化 "),i("a",{class:"header-anchor",href:"#linux系统句柄优化","aria-label":'Permalink to "Linux系统句柄优化"'},"​")],-1),i("ol",null,[i("li",null,[s("查看当前的句柄数"),i("code",null,"ulimit -n"),s("->1024")]),i("li",null,[s("修改配置文件调整句柄限制为65535"),i("code",null,'echo "* soft nofile 65535" >> /etc/security/limits.conf'),s("、"),i("code",null,'echo "* hard nofile 65535" >> /etc/security/limits.conf')]),i("li",null,"重新登陆终端就可以查看到效果了")],-1),i("h2",{id:"openstack平台调度策略优化",tabindex:"-1"},[s("OpenStack平台调度策略优化 "),i("a",{class:"header-anchor",href:"#openstack平台调度策略优化","aria-label":'Permalink to "OpenStack平台调度策略优化"'},"​")],-1),i("ol",null,[i("li",null,[s("在控制节点，修改/etc/nova/nova.conf配置文件"),i("code",null,"vi /etc/nova/nova.conf")]),i("li",null,[s("找到这一行"),i("code",null,"#vif_plugging_is_fatal=true"),s("（95行），改为"),i("code",null,"vif_plugging_is_fatal=false")]),i("li",null,[s("保存退出nova.conf，最后重启nova服务，也可以重启所有服务"),i("code",null,"openstack-service restart")])],-1),i("h2",{id:"openstack平台镜像优化",tabindex:"-1"},[s("OpenStack平台镜像优化 "),i("a",{class:"header-anchor",href:"#openstack平台镜像优化","aria-label":'Permalink to "OpenStack平台镜像优化"'},"​")],-1),i("blockquote",null,[i("p",null,"在使用打快照方式制作镜像后，镜像的大小会变得非常大，比如一个基础的CentOS镜像大小为400M左右，但是使用打快照方式制作的镜像大小会有1个G左右，具体的大小还要根据安装的东西来实际情况实际分析。")],-1),i("p",null,"qemu-img命令中提供一个可用于镜像转换与压缩的选项，即qemu-img convert。接下来使用该命令，对已经打快照完成的镜像进行压缩操作。",-1),i("ol",null,[i("li",null,[s("使用提供的镜像CentOS7.5-compress.qcow2，上传至controller节点的/root目录下，查看镜像的大小，命令如下："),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@controller "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# du -sh CentOS7.5-compress.qcow2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"892M"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"	CentOS7.5-compress.qcow2")])])]),i("button",{class:"code-block-unfold-btn"})]),s("可以看到当前的镜像大小为892M，接下来使用命令，对镜像进行压缩，命令如下："),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@controller "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# qemu-img convert -c -O qcow2 CentOS7.5-compress.qcow2 CentOS7.5-compress2.qcow2")])])]),i("button",{class:"code-block-unfold-btn"})])])],-1),i("blockquote",null,[i("p",null,"该命令参数的解释如下： -c 压缩 -O qcow2 输出格式为 qcow2 CentOS7.5-compress.qcow2 被压缩的文件 CentOS7.5-compress2.qcow2 压缩完成后文件")],-1),i("p",null,"等待一小段时间后，压缩完成，查看当前目录下CentOS7.5-compress2.qcow2镜像文件的大小，命令如下：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@controller "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# du -sh CentOS7.5-compress2.qcow2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"405M"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"	CentOS7.5-compress2.qcow2")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"可以看到镜像大概被压缩到了一半的大小。使用qemu-img convert命令可以压缩qcow2镜像，在日常的工作中，经常会用到此命令进行镜像压缩。",-1),i("h2",{id:"i-o优化",tabindex:"-1"},[s("I/O优化 "),i("a",{class:"header-anchor",href:"#i-o优化","aria-label":'Permalink to "I/O优化"'},"​")],-1),i("blockquote",null,[i("p",null,"IO调度的作用就是为了合并相近的IO请求，减少磁臂的移动损耗。")],-1),i("blockquote",null,[i("p",null,"I/O调度策略修改")],-1),i("ol",null,[i("li",null,[s("调度策略的修改是比较简单的，首先查看当前使用的调度算法，使用CRT工具连接到controller节点，查看调度算法"),i("code",null,"cat /sys/block/vda/queue/scheduler"),s("->"),i("code",null,"[mq-deadline] kyber none")]),i("li",null,[s("可以看到当前的I/O调度算法为mq-deadline，如果当前全是用的是SSD硬盘，那么显然none算法更合适，修改算法为none"),i("code",null,"echo none > /sys/block/vda/queue/scheduler")]),i("li",null,[s("修改完之后，查看当前使用的算法"),i("code",null,"cat /sys/block/vda/queue/scheduler"),s("->"),i("code",null,"[none] mq-deadline kyber")]),i("li",null,"可以看到当前的I/O调度算法为none模式。")],-1),i("h2",{id:"部署jumpserver",tabindex:"-1"},[s("部署JumpServer "),i("a",{class:"header-anchor",href:"#部署jumpserver","aria-label":'Permalink to "部署JumpServer"'},"​")],-1),i("blockquote",null,[i("p",null,"软件准备")],-1),i("ol",null,[i("li",null,[i("code",null,"curl -O http://10.3.61.229/openstack/jumpserver.tar.gz"),s("、"),i("code",null,"tar -zxvf jumpserver.tar.gz -C /opt/")]),i("li",null,[s("安装python数据库"),i("code",null,"yum install python2 -y")]),i("li",null,[s("安装配置docker环境"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"cp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -rf"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /opt/docker/"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /usr/bin/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"chmod"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 775"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /usr/bin/docker"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"cp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -rf"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /opt/docker.service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"chmod"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 755"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/systemd/system/docker.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," daemon-reload")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," enable"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," docker"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --now")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("验证服务状态"),i("code",null,"docker --version"),s("、"),i("code",null,"docker-compose --version")])],-1),i("blockquote",null,[i("p",null,"加载jumpserver服务组件镜像")],-1),i("ol",null,[i("li",null,[s("加载jumpserver服务组件镜像"),i("code",null,"cd /opt/images/"),s("、"),i("code",null,"sh load.sh")]),i("li",null,[s("创建jumpser服务组件目录"),i("code",null,"mkdir -p /opt/jumpserver/{core,koko,lion,mysql,nginx,redis}"),s("、"),i("code",null,"cp -rf /opt/config /opt/jumpserver/")]),i("li",null,[s("生效环境变量static.env，使用所提供的脚本up.sh启动jumpserver服务"),i("code",null,"cd /opt/compose/"),s("、"),i("code",null,"source /opt/static.env"),s("、"),i("code",null,"sh up.sh ")]),i("li",null,[s("浏览器访问"),i("code",null,"http://$IP"),s("，账号密码admin/admin")])],-1),i("h2",{id:"部署elasticsearch服务",tabindex:"-1"},[s("部署Elasticsearch服务 "),i("a",{class:"header-anchor",href:"#部署elasticsearch服务","aria-label":'Permalink to "部署Elasticsearch服务"'},"​")],-1),i("ol",null,[i("li",null,[s("修改主机名"),i("code",null,"hostnamectl set-hostname node-1")]),i("li",null,[s("将提供的elasticsearch-7.17.0-linux-x86_64.tar.gz软件包上传到此节点并解压到/opt目录，进入解压后的目录并创建data目录"),i("code",null,"tar -zxvf elasticsearch-7.17.0-linux-x86_64.tar.gz -C /opt"),s("、"),i("code",null,"cd /opt/elasticsearch-7.17.0/"),s("、"),i("code",null,"mkdir data")]),i("li",null,[s("修改Elasticsearch配置，修改并添加如下几行内容"),i("code",null,"vi config/elasticsearch.yml"),i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"省略")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"cluster.name: my-application")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"node.name: node-"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"path"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".data: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/opt/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"elasticsearch-"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"7"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"17"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"/data")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"path"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".logs: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/opt/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"elasticsearch-"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"7"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"17"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"/logs")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"network.host: "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"cluster.initial_master_nodes: ["),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"node-1"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"省略")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"http.cors.enabled: "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"true")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"http.cors.allow-origin: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"*"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"http.cors.allow-headers: Authorization,X-Requested-With,Content-Length,Content-"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"Type")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("创建Elasticsearch启动用户，并设置属组及权限"),i("code",null,"groupadd elsearch"),s("、"),i("code",null,"useradd elsearch -g elsearch -p elasticsearch"),s("、"),i("code",null,"chown -R elsearch:elsearch /opt/elasticsearch-7.17.0")]),i("li",null,[s("修改资源限制及内核配置，添加如下内容"),i("code",null,"vi /etc/security/limits.conf"),i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"*   hard    nofile          "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"65536")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"*   soft    nofile          "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"65536")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[i("code",null,"vi /etc/sysctl.conf"),i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"vm.max_map_count"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"262144")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[i("code",null,"sysctl -p"),s("、"),i("code",null,"reboot")]),i("li",null,[s("启动Elasticsearch服务"),i("code",null,"cd /opt/elasticsearch-7.17.0/"),s("、"),i("code",null,"su elsearch"),s("、"),i("code",null,"./bin/elasticsearch -d"),i("em",null,"使用Ctrl+D来退出")]),i("li",null,[s("查询端口，存在9200则成功启动"),i("code",null,"netstat -ntpl"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Proto"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Recv-Q"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Send-Q"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Local"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Address"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"           Foreign"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Address"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"         State"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"       PID/Program"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::9200"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1714/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"           ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::9300"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1714/java")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,"使用浏览器访问IP:9200")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "name"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "node-1",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "cluster_name"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "elasticsearch",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "cluster_uuid"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "xuBesDg2QM-E57SnSCr_rA",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "version"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'    "number"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "7.17.0",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'    "build_flavor"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "default",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'    "build_type"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "tar",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'    "build_hash"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "bee86328705acaa9a6daede7140defd4d9ec56bd",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'    "build_date"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "2022-01-28T08:36:04.875279988Z",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'    "build_snapshot"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," false"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'    "lucene_version"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "8.11.1",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'    "minimum_wire_compatibility_version"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "6.8.0",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'    "minimum_index_compatibility_version"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "6.0.0-beta1"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "tagline"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "You Know, for Search"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("h2",{id:"部署skywalking-oap服务",tabindex:"-1"},[s("部署SkyWalking OAP服务 "),i("a",{class:"header-anchor",href:"#部署skywalking-oap服务","aria-label":'Permalink to "部署SkyWalking OAP服务"'},"​")],-1),i("ol",null,[i("li",null,[s("使用提供的jdk-8u144-linux-x64.tar.gz软件包，上传jdk软件包，配置jdk"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@node-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# tar -zxvf jdk-8u144-linux-x64.tar.gz -C /usr/local/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@node-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# vi /etc/profile")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# /etc/profile")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," JAVA_HOME"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"/usr/local/jdk1.8.0_144")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," CLASSPATH"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".:${JAVA_HOME}/jre/lib/rt.jar:${JAVA_HOME}/lib/dt.jar:${JAVA_HOME}/lib/tools.jar")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," PATH"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$PATH:${JAVA_HOME}/bin")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"…")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@node-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# source /etc/profile")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@node-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# java -version")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"java"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," version"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "1.8.0_144"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Java(TM"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") SE Runtime Environment ("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"build"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 1.8.0_144-b01"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Java"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," HotSpot"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"TM"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"64-Bit"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Server"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," VM"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (build "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"25.144-b01,"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mixed"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mode"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("上传apache-skywalking-apm-es7-8.0.0.tar.gz软件包至node-1节点上并加压到/opt目录下"),i("code",null,"tar -zxvf apache-skywalking-apm-es7-8.0.0.tar.gz -C /opt")]),i("li",null,[s("进入解压后目录，修改OAP配置文件"),i("code",null,"cd /opt/apache-skywalking-apm-bin-es7/"),s("、"),i("code",null,"vi config/application.yml")])],-1),i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"集群配置使用单机版")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"cluster:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  selector: ${SW_CLUSTER:standalone}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  standalone:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"数据库使用elasticsearch7")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"storage:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  selector: ${SW_STORAGE:elasticsearch7}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  elasticsearch7:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    nameSpace: ${SW_NAMESPACE:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'""'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    clusterNodes: ${SW_STORAGE_ES_CLUSTER_NODES:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"172"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"128"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"11"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"32"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"9200"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("ol",{start:"4"},[i("li",null,[s("启动OAP服务，查询端口，存在11800与12800则成功启动"),i("code",null,"./bin/oapService.sh "),s("->"),i("strong",null,"SkyWalking OAP started successfully!"),s("、"),i("code",null,"netstat -ntpl")])],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Active"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Internet"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," connections"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (only "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"servers"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Proto"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Recv-Q"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Send-Q"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Local"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Address"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"           Foreign"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Address"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"         State"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"       PID/Program"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::12800"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1935/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"         ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::11800"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1935/java")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("h3",{id:"部署skywalking-ui服务",tabindex:"-1"},[s("部署SkyWalking UI服务 "),i("a",{class:"header-anchor",href:"#部署skywalking-ui服务","aria-label":'Permalink to "部署SkyWalking UI服务"'},"​")],-1),i("ol",null,[i("li",null,[s("由于SkyWalking UI的默认地址是8080，与很多中间件可能存在冲突，修改一下"),i("code",null,"vi webapp/webapp.yml"),i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"server:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"port: "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"8888")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("启动SkyWalking UI服务"),i("code",null,"./bin/webappService.sh "),s("->"),i("strong",null,"SkyWalking Web Application started successfully!")]),i("li",null,[s("查看端口，存在8888则成功启动"),i("code",null,"netstat -ntpl"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Active"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Internet"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," connections"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (only "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"servers"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Proto"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Recv-Q"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Send-Q"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Local"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Address"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"        Foreign"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Address"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     State"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"       PID/Program"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::9300"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"              :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      2261/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"       ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::8888"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"              :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      3133/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"       ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::11800"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"             :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      2416/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"       ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::12800"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"             :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      2416/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"       ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::9200"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"              :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      2261/java")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,"使用浏览器访问IP:8888，此时访问页面无数据")],-1),i("h3",{id:"搭建并启动应用商城服务-并配置skywalking-agent",tabindex:"-1"},[s("搭建并启动应用商城服务，并配置SkyWalking Agent "),i("a",{class:"header-anchor",href:"#搭建并启动应用商城服务-并配置skywalking-agent","aria-label":'Permalink to "搭建并启动应用商城服务，并配置SkyWalking Agent"'},"​")],-1),i("blockquote",null,[i("p",null,"配置主机名")],-1),i("ol",null,[i("li",null,[s("修改mall节点主机名"),i("code",null,"hostnamectl set-hostname mall")]),i("li",null,[s("修改host文件"),i("code",null,"vi /etc/hosts"),s("添加"),i("code",null,"10.3.61.213 mall")])],-1),i("blockquote",null,[i("p",null,"配置yum源&基础服务安装")],-1),i("ol",null,[i("li",null,[s("将提供的gpmall包上传到服务器的/root目录下并解压gpmall.tar.gz，配置本地local.repo文件"),i("code",null,"mv /etc/yum.repos.d/* /media/"),s("、"),i("code",null,"tar -zxvf gpmall-repo.tar.gz -C /root/"),s("、"),i("code",null,"vi /etc/yum.repos.d/local.repo"),i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[mall]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"mall")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"baseurl"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"file:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"///root/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"gpmall-repo")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"gpgcheck"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"enabled"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("安装Java环境"),i("code",null,"yum install -y java-1.8.0-openjdk java-1.8.0-openjdk-devel")]),i("li",null,[s("安装Redis缓存服务"),i("code",null,"yum install redis -y")]),i("li",null,[s("安装Nginx服务"),i("code",null,"yum install nginx -y")]),i("li",null,[s("安装MariaDB数据库"),i("code",null,"yum install mariadb mariadb-server -y")])],-1),i("blockquote",null,[i("p",null,"ZooKeeper服务")],-1),i("ol",null,[i("li",null,[s("安装ZooKeeper服务，将提供的zookeeper-3.4.14.tar.gz上传至mall节点上"),i("code",null,"tar -zxvf zookeeper-3.4.14.tar.gz")]),i("li",null,[s("进入到zookeeper-3.4.14/conf目录下，将zoo_sample.cfg文件重命名为zoo.cfg"),i("code",null,"cd zookeeper-3.4.14/conf/"),s("、"),i("code",null,"mv zoo_sample.cfg zoo.cfg")]),i("li",null,[s("进入到zookeeper-3.4.14/bin目录下，启动ZooKeeper服务"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall conf]# cd ../bin")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall bin]# ./zkServer.sh start")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ZooKeeper"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," JMX"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," enabled"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," by"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," default")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Using"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," config:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /root/zookeeper-3.4.14/bin/../conf/zoo.cfg")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Starting"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," zookeeper"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ..."),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," STARTED")])])]),i("button",{class:"code-block-unfold-btn"})])]),i("li",null,[s("查看ZooKeeper状态"),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall bin]# ./zkServer.sh status")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ZooKeeper"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," JMX"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," enabled"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," by"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," default")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Using"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," config:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /root/zookeeper-3.4.14/bin/../conf/zoo.cfg")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Mode:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," standalone")])])]),i("button",{class:"code-block-unfold-btn"})])])],-1),i("blockquote",null,[i("p",null,"Kafka服务")],-1),i("ol",null,[i("li",null,"安装Kafka服务，将提供的kafka_2.11-1.1.1.tgz包上传到mall节点上，解压该压缩包")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall bin]# cd")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# tar -zxvf kafka_2.11-1.1.1.tgz")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("ol",{start:"2"},[i("li",null,"进入到kafka_2.11-1.1.1/bin目录下，启动Kafka服务")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# cd kafka_2.11-1.1.1/bin/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall bin]# ./kafka-server-start.sh -daemon ../config/server.properties")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("ol",{start:"3"},[i("li",null,"使用jps或者netstat -ntpl命令查看Kafka是否成功启动")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# netstat -ntpl")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Active"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Internet"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," connections"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (only "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"servers"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Proto"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Recv-Q"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Send-Q"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Local"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Address"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"           Foreign"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Address"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"         State"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"       PID/Program"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0.0.0.0:6379"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"            0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"               LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1291/redis-server"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," *"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0.0.0.0:111"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"             0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"               LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      613/rpcbind"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"         ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0.0.0.0:80"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"              0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"               LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      2152/nginx:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," master"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0.0.0.0:22"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"              0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"               LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1296/sshd"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"           ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 127.0.0.1:25"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"            0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"               LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1277/master"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"         ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::33760"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1706/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"           ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::9092"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      2025/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"           ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::2181"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1706/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"           ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::3306"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1154/mysqld"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"         ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::6379"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1291/redis-server"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," *"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::36300"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      2025/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"           ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::111"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                  :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      613/rpcbind"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"         ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::20880"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      2223/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"           ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::80"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                   :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      2152/nginx:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," master"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::8081"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      2257/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"           ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::20881"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      2164/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"           ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::8082"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      2290/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"           ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::22"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                   :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1296/sshd"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"           ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ::1:25"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                  :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1277/master")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,[i("strong",null,"运行结果查看到Kafka服务和9092端口，说明Kafka服务已启动")],-1),i("h3",{id:"启动服务",tabindex:"-1"},[s("启动服务 "),i("a",{class:"header-anchor",href:"#启动服务","aria-label":'Permalink to "启动服务"'},"​")],-1),i("blockquote",null,[i("p",null,"启动数据库并配置 修改数据库配置文件并启动MariaDB数据库，设置root用户密码为123456，并创建gpmall数据库，将提供的gpmall.sql导入")],-1),i("ol",null,[i("li",null,"修改/etc/my.cnf文件，添加字段如下")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall bin]# cd")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# vi /etc/my.cnf")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[mysqld]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"!"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"includedir"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/my.cnf.d")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"init_connect"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'SET collation_connection = utf8_unicode_ci'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"init_connect"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'SET NAMES utf8'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"character-set-server"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"utf8")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"collation-server"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"utf8_unicode_ci")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"skip-character-set-client-handshake")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("ol",{start:"2"},[i("li",null,[s("启动数据库"),i("code",null,"systemctl start mariadb")]),i("li",null,"设置root用户的密码为123456并登录")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# mysqladmin -uroot password 123456")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# mysql -uroot -p123456")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Welcome"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," to"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," the"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," MariaDB"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," monitor."),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  Commands"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," end"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," with"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ; "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"or"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," \\g"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},".")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Your"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," MariaDB"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," connection"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," id"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," is"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Server"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," version:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 5.5.68-MariaDB"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," MariaDB"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Server")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Copyright"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Type"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'help;'"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," or"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '\\h'"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," for"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," help."),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Type"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '\\c'"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," to"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," clear"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," the"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," current"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," input"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," statement.")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"MariaDB"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," [(none)]"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"```"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"bash")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"4."),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 设置root用户的权限")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"```"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"mysql")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"MariaDB"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," [(none)]"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," grant all privileges on "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," to root@localhost identified by "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'123456'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," with grant option;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Query"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," OK,"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rows"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," affected"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (0.001 "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"sec"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"MariaDB"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," [(none)]"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," grant all privileges on "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," to root@"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"%"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," identified by "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'123456'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," with grant option;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Query"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," OK,"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rows"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," affected"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (0.001 "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"sec"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("ol",{start:"5"},[i("li",null,"将gpmall.sql文件上传至云主机的/root目录下。创建数据库gpmall并导入gpmall.sql文件")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"MariaDB"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," [(none)]"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," create database gpmall;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Query"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," OK,"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," row"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," affected"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (0.00 "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"sec"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"MariaDB"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," [(none)]"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," use gpmall;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"MariaDB"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," [gpmall]"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," source /root/gpmall/gpmall.sql")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("ol",{start:"6"},[i("li",null,[s("退出数据库并设置开机自启"),i("code",null,"Ctrl+c"),s("、"),i("code",null,"systemctl enable mariadb")])],-1),i("blockquote",null,[i("p",null,"启动Redis服务")],-1),i("ol",null,[i("li",null,"修改Redis配置文件，编辑/etc/redis.conf文件,将bind 127.0.0.1这一行注释掉；将protected-mode yes 改为 protected-mode no")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# vi /etc/redis.conf")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#bind 127.0.0.1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"protected-mode"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," no")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# systemctl start redis")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# systemctl enable redis")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Created"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," symlink"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," from"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/systemd/system/multi-user.target.wants/redis.service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," to"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /usr/lib/systemd/system/redis.service.")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("blockquote",null,[i("p",null,"启动Nginx服务")],-1),i("p",null,"启动Nginx服务命令",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# systemctl start nginx")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# systemctl enable nginx")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Created"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," symlink"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," from"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/systemd/system/multi-user.target.wants/nginx.service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," to"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /usr/lib/systemd/system/nginx.service.")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("h3",{id:"应用系统部署",tabindex:"-1"},[s("应用系统部署 "),i("a",{class:"header-anchor",href:"#应用系统部署","aria-label":'Permalink to "应用系统部署"'},"​")],-1),i("blockquote",null,[i("p",null,"使用提供gpmall-shopping-0.0.1-SNAPSHOT.jar、gpmall-user-0.0.1-SNAPSHOT.jar、shopping-provider-0.0.1-SNAPSHOT.jar、user-provider-0.0.1-SNAPSHOT.jar 、dist这5个包部署应用系统，其中4个jar包为后端服务包，dist为前端包。（包在gpmall目录下）")],-1),i("blockquote",null,[i("p",null,"全局变量配置")],-1),i("p",null,"修改/etc/hosts文件，修改项目全局配置文件如下（原有的172.128.11.42 mall映射删除）：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# cat /etc/hosts")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"127.0.0.1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   localhost"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost.localdomain"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost4"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost4.localdomain4")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},":1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"         localhost"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost.localdomain"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost6"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost6.localdomain6")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"172.128.11.42"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," kafka.mall")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"172.128.11.42"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mysql.mall")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"172.128.11.42"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," redis.mall")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"172.128.11.42"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," zookeeper.mall")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("blockquote",null,[i("p",null,"部署前端")],-1),i("ol",null,[i("li",null,"清空默认项目路径下的文件，将dist目录下的文件，复制到Nginx默认项目路径（文件在gpmall目录下）")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# rm -rf /usr/share/nginx/html/"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# cp -rvf gpmall/dist/"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /usr/share/nginx/html/")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("ol",{start:"2"},[i("li",null,[s("修改Nginx配置文件/etc/nginx/nginx.conf，添加映射如下所示： "),i("strong",null,'加上">"后的字段就可以')])],-1),i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," vi"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}}," /etc/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"nginx/nginx.conf")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    server {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        listen       "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"80"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        listen       [::]:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"80"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        server_name  _;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        root         "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/usr/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"share"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/nginx/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"html;")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," Load configuration files "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"for"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," the default server block.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        include"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}}," /etc/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"nginx"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/default.d/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"*.conf;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"         ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        >location / {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        >root   "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/usr/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"share"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/nginx/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"html;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        >index  index.html index.htm;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        >}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        >location /user {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        > "),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   proxy_pass http://127.0.0.1:8082;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        >}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        >location /shopping {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        > "),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   proxy_pass http://127.0.0.1:8081;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        >}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        >location /cashier {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        > "),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   proxy_pass http://127.0.0.1:8083;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        >}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        >error_page "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"404"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"404"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".html;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("ol",{start:"3"},[i("li",null,[s("重启Nginx服务"),i("code",null,"systemctl restart nginx")])],-1),i("blockquote",null,[i("p",null,"部署后端")],-1),i("ol",null,[i("li",null,[s("将node-1节点的/opt/apache-skywalking-apm-bin-es7目录下的agent目录复制到mall节点下"),i("code",null,"scp -r $NODE_1_IP:/opt/apache-skywalking-apm-bin-es7/agent /root"),s("，$NODE_1_IP修改为node-1节点IP")]),i("li",null,"修改SkyWalking agent配置文件（$MALL_IP替换为mall节点IP）")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# vi agent/config/agent.config")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"…")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"agent.service_name"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"${SW_AGENT_NAME"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"my-application}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"agent.sample_n_per_3_secs"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"${SW_AGENT_SAMPLE"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"1}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"…")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"collector.backend_service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"${SW_AGENT_COLLECTOR_BACKEND_SERVICES"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$MALL_IP"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"11800}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"…")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("ol",{start:"3"},[i("li",null,"将提供的4个jar包上传到服务器的/root目录下，放置探针并启动，通过设置启动参数的方式检测系统")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# nohup java -javaagent:/root/agent/skywalking-agent.jar  -jar gpmall/shopping-provider-0.0.1-SNAPSHOT.jar &")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[1] "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"20086")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# nohup: ignoring input and appending output to ‘nohup.out’")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# nohup java -javaagent:/root/agent/skywalking-agent.jar  -jar gpmall/user-provider-0.0.1-SNAPSHOT.jar &")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[2] "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"20132")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# nohup: ignoring input and appending output to ‘nohup.out’")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# nohup java -javaagent:/root/agent/skywalking-agent.jar  -jar gpmall/gpmall-shopping-0.0.1-SNAPSHOT.jar &")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[3] "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"20177")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# nohup: ignoring input and appending output to ‘nohup.out’")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# nohup java -javaagent:/root/agent/skywalking-agent.jar  -jar gpmall/gpmall-user-0.0.1-SNAPSHOT.jar &")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[4] "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"20281")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# nohup: ignoring input and appending output to ‘nohup.out’")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# httpd访问网络配置")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@mall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# setsebool -P httpd_can_network_connect 1")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,[i("em",null,"按照顺序运行4个jar包后，至此后端服务部署完毕。")],-1),i("blockquote",null,[i("p",null,"网站访问")],-1),i("p",null,"打开浏览器，在地址栏中输入http://$MALL_IP",-1),i("h2",{id:"部署elk服务",tabindex:"-1"},[s("部署ELK服务 "),i("a",{class:"header-anchor",href:"#部署elk服务","aria-label":'Permalink to "部署ELK服务"'},"​")],-1),i("h3",{id:"基础环境配置",tabindex:"-1"},[s("基础环境配置 "),i("a",{class:"header-anchor",href:"#基础环境配置","aria-label":'Permalink to "基础环境配置"'},"​")],-1),i("blockquote",null,[i("p",null,"三台主机修改主机名")],-1),i("p",null,[i("strong",null,"elk-1节点：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@lqhelk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# hostnamectl set-hostname elk-1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@lqhelk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# bash ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# hostnamectl ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   Static"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," hostname:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elk-1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"         Icon"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," computer-vm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"           Chassis:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," vm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        Machine"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cc2c86fe566741e6a2ff6d399c5d5daa")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"           Boot"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 4786f596058f424db58406c8c1b9c635")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    Virtualization:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," kvm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  Operating"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," System:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," CentOS"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Linux"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 7"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (Core)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"       CPE"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," OS"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cpe:/o:centos:centos:7")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            Kernel:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Linux"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 3.10.0-1160.el7.x86_64")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      Architecture:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," x86-64")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,[i("strong",null,"elk-2节点：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@lqhelk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# hostnamectl  set-hostname elk-2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# hostnamectl  ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   Static"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," hostname:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elk-2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"         Icon"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," computer-vm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"           Chassis:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," vm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        Machine"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cc2c86fe566741e6a2ff6d399c5d5daa")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"           Boot"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 17e276b0811d4a01907ab8424a16a072")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    Virtualization:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," kvm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  Operating"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," System:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," CentOS"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Linux"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 7"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (Core)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"       CPE"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," OS"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cpe:/o:centos:centos:7")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            Kernel:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Linux"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 3.10.0-1160.el7.x86_64")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      Architecture:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," x86-64")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,[i("strong",null,"elk-3节点：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@lqhelk-3 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# hostnamectl  set-hostname elk-3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@lqhelk-3 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# bash ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-3 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# hostnamectl  ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   Static"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," hostname:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elk-3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"         Icon"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," computer-vm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"           Chassis:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," vm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        Machine"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cc2c86fe566741e6a2ff6d399c5d5daa")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"           Boot"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 07d416916e744daa8a96163a93fcf34a")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    Virtualization:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," kvm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  Operating"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," System:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," CentOS"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Linux"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 7"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (Core)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"       CPE"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," OS"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cpe:/o:centos:centos:7")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            Kernel:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Linux"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 3.10.0-1160.el7.x86_64")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      Architecture:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," x86-64")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("blockquote",null,[i("p",null,"三台主机配置主机名映射（以第一台节点为例，三个节点都要配置）")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# vi /etc/hosts")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"127.0.0.1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   localhost"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost.localdomain"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost4"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost4.localdomain4")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},":1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"         localhost"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost.localdomain"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost6"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost6.localdomain6")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"172.128.11.10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elk-1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"172.128.11.17"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elk-2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"172.128.11.11"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elk-3")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("blockquote",null,[i("p",null,"三台主机安装JDK环境（以第一台节点为例）")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# mv /etc/yum.repos.d/"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /media/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# mkdir  /opt/centos-2009")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# vi /etc/yum.repos.d/local.repo")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[centos]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"centos")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"baseurl"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"file:///opt/centos-2009")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"gpgcheck"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"enabled"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# mount CentOS-7-x86_64-DVD-2009.iso  /mnt/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"mount:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /dev/loop0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," is"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," write-protected,"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mounting"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," read-only")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# cp -rvf /mnt/"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /opt/centos-2009")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# umount /mnt/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# yum install -y java-1.8.0-openjdk java-1.8.0-openjdk-devel")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"......")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Installed:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  java-1.8.0-openjdk.x86_64"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 1:1.8.0.262.b10-1.el7"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 java-1.8.0-openjdk-devel.x86_64"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 1:1.8.0.262.b10-1.el7"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                ")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Dependency"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Installed:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  alsa-lib.x86_64"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0:1.1.8-1.el7"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                                 atk.x86_64"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0:2.28.1-2.el7"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                                              ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  avahi-libs.x86_64"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0:0.6.31-20.el7"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                             cairo.x86_64"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0:1.15.12-4.el")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Complete!")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# java -version")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"openjdk"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," version"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "1.8.0_262"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"OpenJDK"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Runtime"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Environment"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (build "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"1.8.0_262-b10"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"OpenJDK"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 64-Bit"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Server"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," VM"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (build "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"25.262-b10,"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mixed"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mode"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("h3",{id:"部署elasticsearch",tabindex:"-1"},[s("部署Elasticsearch "),i("a",{class:"header-anchor",href:"#部署elasticsearch","aria-label":'Permalink to "部署Elasticsearch"'},"​")],-1),i("blockquote",null,[i("p",null,"三台主机安装Elasticserach（以第一台主机为例）")],-1),i("p",null,"将提供的elasticsearch-6.0.0.rpm包分别上传至三台主机的/root目录下，并使用命令进行安装。",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# ll")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"total"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 27332")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"-rw-------."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"     6880"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Oct"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 30"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  2020"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," anaconda-ks.cfg")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"-rw-r--r--."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 27970243"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Nov"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 27"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 02:52"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elasticsearch-6.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"0.0.rpm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"-rw-------."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"     6587"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Oct"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 30"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  2020"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," original-ks.cfg")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# rpm -ivh elasticsearch-6.0.0.rpm ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"warning:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elasticsearch-6.0.0.rpm:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Header"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," V4"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," RSA/SHA512"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Signature,"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," key"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," d88e42b4:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," NOKEY")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Preparing..."),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"                          ################################# [100%]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Creating"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elasticsearch"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," group..."),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," OK")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Creating"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elasticsearch"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," user..."),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," OK")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Updating"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," installing...")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   1:elasticsearch-0:6.0.0-1"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"          ################################# [100%]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"### NOT starting on installation, please execute the following statements to configure elasticsearch service to start automatically using systemd")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," sudo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," daemon-reload")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," sudo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," enable"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elasticsearch.service")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"### You can start elasticsearch service by executing")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," sudo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," start"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elasticsearch.service")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("blockquote",null,[i("p",null,"三台主机分别配置Elasticserach 配置elasticsearch的配置文件，配置文件在/etc/elasticsearch/elasticsearch.yml。")],-1),i("p",null,[i("strong",null,"elk-1节点：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# vi /etc/elasticsearch/elasticsearch.yml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# ---------------------------------- Cluster -----------------------------------")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Use a descriptive name for your cluster:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"cluster.name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ELK"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"          //取消注释，配置elasticsearch集群名称")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# ------------------------------------ Node ------------------------------------")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Use a descriptive name for the node:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elk-1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"         //配置节点名，默认随机指定一个name列表中名字，该列表在Elasticserach的jar包中config文件夹里name.txt文件中")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.master:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," true"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"        //添加指定该节点是否有资格被选举成为node")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.data:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," false"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      //指定该节点是否有资格被选举成为node，Elasticserach是默认集群中的第一台机器为master，如果这台机挂了就会重新选举master，其他两节点为false。")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# ----------------------------------- Paths ------------------------------------")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Path to directory where to store the data (separate multiple locations by comma):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"path.data:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/lib/elasticsearch"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"        //配置索引数据存储位置"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"保持默认,不要开启注释"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"。")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Path to log files:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"path.logs:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/log/elasticsearch"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      //设置日志文件的存储路径，默认是Elasticserach根目录下的logs文件夹。")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# ---------------------------------- Network -----------------------------------")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Set the bind address to a specific IP (IPv4 or IPv6):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"network.host:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 172.128.11.10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    //设置绑定的ip地址，可以是ipv4或ipv6的，默认为0.0.0.0。")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Set a custom port for HTTP:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"http.port:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 9200"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"           //启动的Elasticserach对外访问的http端口，默认9200")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# --------------------------------- Discovery ----------------------------------")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Pass an initial list of hosts to perform discovery when new node is started:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'# The default list of hosts is ["127.0.0.1", "[::1]"]')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'#discovery.zen.ping.unicast.hosts: ["host1", "host2"]')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"discovery.zen.ping.unicast.hosts:"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ["),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"elk-1"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"elk-2"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"elk-3"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]   //设置集群中master节点的初始列表，可以通过这些节点来自动发现新加入集群的节点。")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,[i("strong",null,"elk-2节点（参数说明不再详细写出）：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# vi /etc/elasticsearch/elasticsearch.yml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# ---------------------------------- Cluster -----------------------------------")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Use a descriptive name for your cluster:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"cluster.name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ELK")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# ------------------------------------ Node ------------------------------------")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Use a descriptive name for the node:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elk-2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.master:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," false")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.data:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," true")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# ----------------------------------- Paths ------------------------------------")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Path to directory where to store the data (separate multiple locations by comma):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"path.data:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/lib/elasticsearch")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Path to log files:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"path.logs:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/log/elasticsearch。")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# ---------------------------------- Network -----------------------------------")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Set the bind address to a specific IP (IPv4 or IPv6):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"network.host:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 172.128.11.17")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Set a custom port for HTTP:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"http.port:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 9200")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# --------------------------------- Discovery ----------------------------------")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Pass an initial list of hosts to perform discovery when new node is started:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'# The default list of hosts is ["127.0.0.1", "[::1]"]')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'#discovery.zen.ping.unicast.hosts: ["host1", "host2"]')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"discovery.zen.ping.unicast.hosts:"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ["),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"elk-1"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"elk-2"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"elk-3"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,[i("strong",null,"elk-3节点（参数说明不再详细写出）：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-3 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# vi /etc/elasticsearch/elasticsearch.yml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# ---------------------------------- Cluster -----------------------------------")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Use a descriptive name for your cluster:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"cluster.name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ELK")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# ------------------------------------ Node ------------------------------------")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Use a descriptive name for the node:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elk-3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.master:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," false")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.data:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," true")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# ----------------------------------- Paths ------------------------------------")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Path to directory where to store the data (separate multiple locations by comma):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"path.data:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/lib/elasticsearch")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Path to log files:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"path.logs:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/log/elasticsearch。")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# ---------------------------------- Network -----------------------------------")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Set the bind address to a specific IP (IPv4 or IPv6):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"network.host:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 172.128.11.11")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Set a custom port for HTTP:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"http.port:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 9200")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# --------------------------------- Discovery ----------------------------------")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Pass an initial list of hosts to perform discovery when new node is started:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'# The default list of hosts is ["127.0.0.1", "[::1]"]')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'#discovery.zen.ping.unicast.hosts: ["host1", "host2"]')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"discovery.zen.ping.unicast.hosts:"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ["),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"elk-1"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"elk-2"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"elk-3"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("blockquote",null,[i("p",null,"三台主机启动服务（以第一台节点为例） 使用命令启动服务，并设置开机自启，最后使用命令查看进行及端口号。")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# systemctl start elasticsearch")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# systemctl  enable elasticsearch")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Created"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," symlink"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," from"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/systemd/system/multi-user.target.wants/elasticsearch.service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," to"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /usr/lib/systemd/system/elasticsearch.service.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# ps -ef "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"grep"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elasticsearch")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"elastic+"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 15943"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"     1"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 90"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 07:46"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ?"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"        00:00:11"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /bin/java"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Xms1g"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Xmx1g"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -XX:+UseConcMarkSweepGC"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -XX:CMSInitiatingOccupancyFraction=75"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -XX:+UseCMSInitiatingOccupancyOnly"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -XX:+AlwaysPreTouch"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -server"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Xss1m"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Djava.awt.headless=true"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Dfile.encoding=UTF-8"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Djna.nosys=true"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -XX:-OmitStackTraceInFastThrow"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Dio.netty.noUnsafe=true"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Dio.netty.noKeySetOptimization=true"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Dio.netty.recycler.maxCapacityPerThread=0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Dlog4j.shutdownHookEnabled=false"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Dlog4j2.disable.jmx=true"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -XX:+HeapDumpOnOutOfMemoryError"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -XX:HeapDumpPath=/var/lib/elasticsearch"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Des.path.home=/usr/share/elasticsearch"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Des.path.conf=/etc/elasticsearch"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -cp"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /usr/share/elasticsearch/lib/"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," org.elasticsearch.bootstrap.Elasticsearch"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -p"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/run/elasticsearch/elasticsearch.pid"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --quiet")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"root"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"     16023"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 15676"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 07:47"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," pts/0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    00:00:00"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," grep"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --color=auto"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elasticsearch")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# netstat -ntpl")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Active"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Internet"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," connections"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (only "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"servers"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Proto"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Recv-Q"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Send-Q"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Local"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Address"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"          Foreign"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Address"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     State"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     PID/Program"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0.0.0.0:22"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"              0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"          LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1268/sshd"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 127.0.0.1:25"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"            0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"          LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1139/master"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0.0.0.0:111"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"             0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"          LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      565/rpcbind"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 172.128.11.10:9300"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"               LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      15943/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::22"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                   :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"               LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1268/sshd"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ::1:25"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                  :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"               LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1139/master"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::111"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                  :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"               LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      565/rpcbind"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 172.128.11.10:9200"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"               LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      15943/java")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,[i("strong",null,"三台主机如果有进程存在或者能够发现9200和9300端口暴露则服务启动成功")],-1),i("blockquote",null,[i("p",null,"检查集群状态")],-1),i("p",null,[i("strong",null,"elk-1节点：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]#  curl "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'172.128.11.10:9200/_cluster/health?pretty'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "cluster_name"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "ELK",'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   //集群名称")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "status"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "green",'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   //集群健康状态，green为健康，yellow或者red则是集群有问题")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "timed_out"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," false"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   //是否超时,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "number_of_nodes"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 3,"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   //集群中节点数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "number_of_data_nodes"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 2,"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   //集群中data节点数量")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "active_primary_shards"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "active_shards"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "relocating_shards"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "initializing_shards"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "unassigned_shards"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "delayed_unassigned_shards"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "number_of_pending_tasks"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "number_of_in_flight_fetch"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "task_max_waiting_in_queue_millis"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "active_shards_percent_as_number"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 100.0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("h3",{id:"部署kibana",tabindex:"-1"},[s("部署Kibana "),i("a",{class:"header-anchor",href:"#部署kibana","aria-label":'Permalink to "部署Kibana"'},"​")],-1),i("blockquote",null,[i("p",null,"第一台主机安装kibana 将提供的kibana-6.0.0-x86_64.rpm包上传至第一台主机的/root目录下，其他主机无需上传，并使用命令进行安装。")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# rpm -ivh kibana-6.0.0-x86_64.rpm ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"warning:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," kibana-6.0.0-x86_64.rpm:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Header"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," V4"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," RSA/SHA512"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Signature,"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," key"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," d88e42b4:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," NOKEY")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Preparing..."),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"                          ################################# [100%]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Updating"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," installing...")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   1:kibana-6.0.0-1"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"                   ################################# [100%]")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("blockquote",null,[i("p",null,"配置Kibana 配置kibana的配置文件，配置文件在/etc/kibana/kibana.yml，在配置文件增加或修改以下内容：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# cat /etc/kibana/kibana.yml "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"grep"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -v"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ^#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"server.port:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 5601"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"              ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"server.host:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 172.128.11.10"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"elasticsearch.url:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "http://172.128.11.10:9200"')])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("blockquote",null,[i("p",null,"启动Kibana")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# systemctl  start kibana")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# systemctl  enable  kibana")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Created"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," symlink"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," from"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/systemd/system/multi-user.target.wants/kibana.service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," to"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/systemd/system/kibana.service.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# ps -ef "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"grep"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," kibana")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"kibana"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"   16141"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"     1"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  9"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 08:26"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ?"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"        00:00:03"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /usr/share/kibana/bin/../node/bin/node"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --no-warnings"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /usr/share/kibana/bin/../src/cli"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -c"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/kibana/kibana.yml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"root"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"     16192"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 15676"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 08:27"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," pts/0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    00:00:00"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," grep"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --color=auto"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," kibana")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# netstat  -ntpl")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Active"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Internet"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," connections"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (only "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"servers"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Proto"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Recv-Q"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Send-Q"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Local"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Address"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"         Foreign"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Address"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     State"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      PID/Program"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0.0.0.0:22"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"            0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"           LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1268/sshd"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"       ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 127.0.0.1:25"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"          0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"           LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1139/master"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 172.128.11.10:5601"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"           LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      16141/node"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0.0.0.0:111"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"           0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"           LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      565/rpcbind"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 172.128.11.10:9300"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      15943/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::22"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1268/sshd"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"       ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ::1:25"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1139/master"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::111"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      565/rpcbind"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 172.128.11.10:9200"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      15943/java")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,[i("strong",null,[s("启动后如果有进程或者能够发现5601端口暴露则服务启动成功，并可以通过浏览器访问地址"),i("a",{href:"http://172.128.11.10:5601/%EF%BC%8C%E8%83%BD%E5%A4%9F%E7%9C%8B%E5%88%B0%E5%A6%82%E5%9B%BE1%E6%89%80%E7%A4%BA%E9%A1%B5%E9%9D%A2%E3%80%82",target:"_blank",rel:"noreferrer"},"http://172.128.11.10:5601/，能够看到如图1所示页面。")])],-1),i("h3",{id:"部署logstash",tabindex:"-1"},[s("部署Logstash "),i("a",{class:"header-anchor",href:"#部署logstash","aria-label":'Permalink to "部署Logstash"'},"​")],-1),i("blockquote",null,[i("p",null,"安装Logstash 将提供的logstash-6.0.0.rpm包上传到第二台主机的/root目录下，其他主机无需上传，并使用命令进行安装。")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# ll")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"total"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 137968")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"-rw-------."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      6880"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Oct"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 30"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  2020"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," anaconda-ks.cfg")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"-rw-r--r--."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  27970243"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Feb"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 07:06"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elasticsearch-6.0.0.rpm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"-rw-r--r--."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 113288712"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Feb"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 08:49"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," logstash-6.0.0.rpm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"-rw-------."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      6587"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Oct"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 30"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  2020"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," original-ks.cfg")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# rpm -ivh logstash-6.0.0.rpm ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"warning:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," logstash-6.0.0.rpm:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Header"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," V4"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," RSA/SHA512"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Signature,"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," key"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," d88e42b4:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," NOKEY")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Preparing..."),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"                          ################################# [100%]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Updating"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," installing...")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   1:logstash-1:6.0.0-1"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"               ################################# [100%]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Using"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," provided"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," startup.options"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," file:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/logstash/startup.options")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Successfully"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," created"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," system"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," startup"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," script"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," for"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Logstash")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("blockquote",null,[i("p",null,"配置Logstash 配置/etc/logstash/logstash.yml，修改增加第190行如下：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# vi /etc/logstash/logstash.yml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"http.host:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "172.128.11.17"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   //第二台主机名称")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("blockquote",null,[i("p",null,"配置logstash收集syslog日志：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# vi /etc/logstash/conf.d/syslog.conf")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"input"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    file"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        path"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "/var/log/messages"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        type"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "systemlog"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        start_position"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "beginning"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        stat_interval"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "3"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"output"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," [type] "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"=="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "systemlog"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        elasticsearch"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            hosts"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ["),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"172.128.11.10:9200"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]    //这里的地址为第一台主机地址（注释必须删掉）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            index"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "system-log-%{+YYYY.MM.dd}"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("blockquote",null,[i("p",null,"检测配置文件是否错误：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# chmod  644 /var/log/messages    //给这个文件赋权限，如果不给权限，则无法读取日志")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# ln -s /usr/share/logstash/bin/logstash /usr/bin")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# logstash --path.settings /etc/logstash/ -f /etc/logstash/conf.d/syslog.conf --config.test_and_exit")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Sending"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Logstash's logs to /var/log/logstash which is now configured via log4j2.properties")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"Configuration OK      //结果显示OK则证明没问题")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("blockquote",null,[i("p",null,"启动Logstash")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# systemctl start logstash")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# ps -ef "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"grep"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," logstash")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"logstash"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 17891"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"     1"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 99"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 09:06"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ?"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"        00:00:18"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /bin/java"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -XX:+UseParNewGC"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -XX:+UseConcMarkSweepGC"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -XX:CMSInitiatingOccupancyFraction=75"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -XX:+UseCMSInitiatingOccupancyOnly"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -XX:+DisableExplicitGC"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Djava.awt.headless=true"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Dfile.encoding=UTF-8"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -XX:+HeapDumpOnOutOfMemoryError"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Xmx1g"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Xms256m"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Xss2048k"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Djffi.boot.library.path=/usr/share/logstash/vendor/jruby/lib/jni"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Xbootclasspath/a:/usr/share/logstash/vendor/jruby/lib/jruby.jar"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -classpath"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Djruby.home=/usr/share/logstash/vendor/jruby"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Djruby.lib=/usr/share/logstash/vendor/jruby/lib"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Djruby.script=jruby"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Djruby.shell=/bin/sh"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," org.jruby.Main"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /usr/share/logstash/lib/bootstrap/environment.rb"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," logstash/runner.rb"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --path.settings"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/logstash")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"root"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"     17927"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 15677"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 09:06"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," pts/0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    00:00:00"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," grep"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --color=auto"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," logstash")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# netstat -lnpt")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Active"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Internet"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," connections"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (only "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"servers"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Proto"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Recv-Q"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Send-Q"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Local"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Address"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"         Foreign"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Address"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      State"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     PID/Program"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0.0.0.0:22"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"            0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"            LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1273/sshd"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 127.0.0.1:25"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"          0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"            LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1084/master"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0.0.0.0:111"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"           0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"            LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      580/rpcbind"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 172.128.11.17:9200"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      15918/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 172.128.11.17:9300"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      15918/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::22"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1273/sshd"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ::1:25"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      1084/master"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::111"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      580/rpcbind")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("blockquote",null,[i("p",null,"如果启动服务后，有进程但是没有9600端口，是因为权限问题，之前我们以root的身份在终端启动过logstash，所以产生的相关文件的属组属主都是root，解决方法如下：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# ll /var/lib/logstash/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"total"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"drwxr-xr-x."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 2"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 6"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Feb"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 09:00"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dead_letter_queue")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"drwxr-xr-x."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 2"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 6"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Feb"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 09:00"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," queue")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# chown -R logstash /var/lib/logstash/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# ll /var/lib/logstash/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"total"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"drwxr-xr-x."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 2"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," logstash"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 6"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Feb"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 09:00"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dead_letter_queue")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"drwxr-xr-x."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 2"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," logstash"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 6"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Feb"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 09:00"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," queue")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# systemctl restart logstash")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# netstat -lnpt")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Active"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Internet"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," connections"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (only "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"servers"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Proto"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Recv-Q"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Send-Q"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Local"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Address"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"          Foreign"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Address"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     State"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     PID/Program"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0.0.0.0:22"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"             0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"           LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     1273/sshd"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"       ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 127.0.0.1:25"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"           0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"           LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     1084/master"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 0.0.0.0:111"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"            0.0.0.0:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"           LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     580/rpcbind"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 172.128.11.17:9200"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     15918/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 172.128.11.17:9300"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     15918/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::22"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                  :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     1273/sshd"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"       ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ::1:25"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     1084/master"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 172.128.11.17:9600"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     18724/java"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tcp6"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::111"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 :::"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                LISTEN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     580/rpcbind")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("blockquote",null,[i("p",null,"启动完毕后，让syslog产生日志，用第三台主机登录elk-2机器，登录后退出。")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-3 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# ssh elk-2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"The"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," authenticity"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," of"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," host"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'elk-2 (172.128.11.17)'"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," can't be established.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"ECDSA key fingerprint is SHA256:nJT1L6Cz5MvNxC/ib2Rk+WN6Q/a3E3yi/67VwVOjt5k.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"ECDSA key fingerprint is MD5:10:0c:b0:88:e6:03:76:cb:53:0b:ea:97:5e:b7:8f:10.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"Are you sure you want to continue connecting (yes/no)? yes")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"Warning: Permanently added 'elk-2,172.128.11.17' (ECDSA) to the list of known hosts.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"root@elk-2's"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," password:"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Last"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," login:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Thu"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Feb"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 01:34:28"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 2022"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," from"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 192.168.0.112")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# logout")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Connection"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," to"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elk-2"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," closed.")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("h3",{id:"kibana检索日志",tabindex:"-1"},[s("Kibana检索日志 "),i("a",{class:"header-anchor",href:"#kibana检索日志","aria-label":'Permalink to "Kibana检索日志"'},"​")],-1),i("blockquote",null,[i("p",null,"Kibana上查看日志 之前部署kibana完成后，还没有检索日志。现在logstash部署完成，我们回到第一台主机上查看日志索引，执行命令如下：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# curl "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'172.128.11.17:9200/_cat/indices?v'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"health"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," status"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," index"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                 uuid"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                   pri"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rep"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," docs.count"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," docs.deleted"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," store.size"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," pri.store.size")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"green"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  open"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   system-log-2022.02.10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," E6kpwHcdRmy8iO42S3zlTg"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"   5"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"   1"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"      20933"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"            0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      7.9mb"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"          3.9mb")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"green"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  open"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   .kibana"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"               OdfKD6JFTx-pPwfJNZtpLA"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"   1"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"   1"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"          1"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"            0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"      7.3kb"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"          3.6kb")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("blockquote",null,[i("p",null,"获取\\删除指定索引详细信息：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@elk-1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# curl -XGET/DELETE "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'172.128.11.17:9200/system-log-2022.02.10?pretty'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    //此处的system-log-2022.02.10是上面步骤查看出的日志索引名称")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'  "system-log-2022.02.10"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'    "aliases"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'    "mappings"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'      "systemlog"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'        "properties"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'          "@timestamp"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'            "type"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "date"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"          },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'          "@version"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'            "type"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "text",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'            "fields"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'              "keyword"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'                "type"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "keyword",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'                "ignore_above"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 256")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"              }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"          },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'          "host"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'            "type"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "text",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'            "fields"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'              "keyword"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'                "type"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "keyword",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'                "ignore_above"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 256")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"              }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"          },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'          "message"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'            "type"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "text",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'            "fields"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'              "keyword"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'                "type"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "keyword",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'                "ignore_above"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 256")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"              }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"          },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'          "path"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'            "type"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "text",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'            "fields"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'              "keyword"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'                "type"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "keyword",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'                "ignore_above"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 256")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"              }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"          },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'          "type"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'            "type"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "text",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'            "fields"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'              "keyword"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'                "type"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "keyword",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'                "ignore_above"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 256")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"              }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"          }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'    "settings"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'      "index"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'        "creation_date"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "1644484128903",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'        "number_of_shards"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "5",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'        "number_of_replicas"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "1",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'        "uuid"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "E6kpwHcdRmy8iO42S3zlTg",')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'        "version"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'          "created"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "6000099"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'        "provided_name"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "system-log-2022.02.10"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("h3",{id:"web页面配置",tabindex:"-1"},[s("Web页面配置 "),i("a",{class:"header-anchor",href:"#web页面配置","aria-label":'Permalink to "Web页面配置"'},"​")],-1),i("ol",null,[i("li",null,"浏览器访问172.128.11.10:5601，到kibana上配置，索引的目录为:system-log-2022.02.10，修改完成后点击“Create”按钮（含有Configure an index pattern的页面，下面填之前出现的log索引）"),i("li",null,"配置完成后，点击左上角的“Discover”，进入“Discover”页面后如果出现以下提示，则是代表无法查找到日志信息（含有柱状图和列表的样子就是正常的，如果显示“No result found”这种情况一般是时间的问题，可以点击右上角切换成查看当天的日志信息）"),i("li",null,"更改完成后，可以看到，Kibana服务已经成功检索主机的日志信息，并反馈在页面。")],-1),i("h2",{id:"python调用openstack-api",tabindex:"-1"},[s("Python调用OpenStack API "),i("a",{class:"header-anchor",href:"#python调用openstack-api","aria-label":'Permalink to "Python调用OpenStack API"'},"​")],-1),i("h3",{id:"python开发环境准备",tabindex:"-1"},[s("Python开发环境准备 "),i("a",{class:"header-anchor",href:"#python开发环境准备","aria-label":'Permalink to "Python开发环境准备"'},"​")],-1),i("ol",null,[i("li",null,[i("code",null,"yum install python3")]),i("li",null,[i("code",null,"python -version")]),i("li",null,[i("code",null,"wget -c -r -np -k -L -p http://10.3.61.229/openstack/Python-api/")])],-1),i("h3",{id:"通过restful编写python运维",tabindex:"-1"},[s("通过RESTful编写Python运维 "),i("a",{class:"header-anchor",href:"#通过restful编写python运维","aria-label":'Permalink to "通过RESTful编写Python运维"'},"​")],-1),i("ol",null,[i("li",null,[s("登录OpenStack平台，可以查看APIs的网站与端口"),i("code",null,'openstack endpoint list -c "Service Name" -c "Enabled" -c "URL"')])],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------+---------+-----------------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Enabled"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," URL"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                                           |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------+---------+-----------------------------------------------+")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," cinderv3"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8776/v3/%(project_id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")s      "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," cinderv2"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8776/v2/%(project_id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")s      "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," cinderv2"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8776/v2/%(project_id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")s      "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," barbican"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9311"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                        |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," nova"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"         |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8774/v2.1"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                   |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," keystone"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:5000/v3/"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                    |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," neutron"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9696"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                        |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," swift"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8080/v1/AUTH_%(project_id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")s "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," keystone"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:5000/v3/"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                    |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," cloudkitty"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"   |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8889"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                        |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," swift"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8080/v1"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                     |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," cloudkitty"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"   |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8889"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                        |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," barbican"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9311"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                        |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," manilav2"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8786/v2/%(tenant_id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")s       "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," keystone"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:5000/v3/"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                    |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," swift"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8080/v1/AUTH_%(project_id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")s "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," placement"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8778"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                        |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," cinderv2"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8776/v2/%(project_id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")s      "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," placement"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8778"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                        |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," manilav2"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8786/v2/%(tenant_id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")s       "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," manila"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8786/v1/%(tenant_id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")s       "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," cinderv3"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8776/v3/%(project_id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")s      "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," cinderv3"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8776/v3/%(project_id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")s      "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," nova"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"         |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8774/v2.1"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                   |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," glance"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9292"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                        |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," glance"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9292"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                        |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," manilav2"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8786/v2/%(tenant_id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")s       "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," nova"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"         |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8774/v2.1"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                   |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," placement"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8778"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                        |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," neutron"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9696"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                        |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," barbican"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"     |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9311"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                        |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," manila"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8786/v1/%(tenant_id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")s       "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," cloudkitty"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"   |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8889"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                        |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," glance"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9292"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                        |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," manila"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:8786/v1/%(tenant_id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")s       "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," neutron"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," True"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," http://controller:9696"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                        |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"+--------------+---------+-----------------------------------------------+")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("h4",{id:"认证服务-用户管理",tabindex:"-1"},[s("认证服务：用户管理 "),i("a",{class:"header-anchor",href:"#认证服务-用户管理","aria-label":'Permalink to "认证服务：用户管理"'},"​")],-1),i("ol",null,[i("li",null,[s("接口说明 接口官网："),i("a",{href:"https://docs.openstack.org/api-ref/identity/%E3%80%82",target:"_blank",rel:"noreferrer"},"https://docs.openstack.org/api-ref/identity/。"),s(" 当前版本为V3.0.网站为："),i("a",{href:"https://docs.openstack.org/api-ref/identity/v3/index.html",target:"_blank",rel:"noreferrer"},"https://docs.openstack.org/api-ref/identity/v3/index.html"),s(" Identity服务生成访问OpenStack服务REST API的认证令牌。客户端通过向身份验证服务提供有效凭据来获取此令牌（Token）和其他服务API的URL端点。 每次向OpenStack服务请求REST API时，都需要在X-Auth-Token请求头中提供自己的认证令牌（Token）。 和大多数OpenStack项目一样，OpenStack Identity通过基于角色访问控制（RBAC）的方法定义策略规则来保护API。 Identity服务配置文件设置存储这些规则的JSON策略文件的名称和位置。 V3 API为所有GET请求实现了HEAD。 每个HEAD请求包含与对应的GET API相同的报头和HTTP状态代码。 以下以用户管理的Python实现案例，展示如何调用认证服务的APIs。具体APIs参考如下地址（如图2所示）： "),i("a",{href:"https://docs.openstack.org/api-ref/identity/v3/index.html#users",target:"_blank",rel:"noreferrer"},"https://docs.openstack.org/api-ref/identity/v3/index.html#users")])],-1),i("blockquote",null,[i("p",null,"以下展示User增删查改的管理Python实现代码。 创建用户接口：POST /v3/users 请求参数见表：")],-1),i("table",null,[i("thead",null,[i("tr",null,[i("th",{style:{"text-align":"center"}},"Name"),i("th",{style:{"text-align":"center"}},"In"),i("th",{style:{"text-align":"center"}},"Type"),i("th",{style:{"text-align":"center"}},"Description")])]),i("tbody",null,[i("tr",null,[i("td",{style:{"text-align":"center"}},"user"),i("td",{style:{"text-align":"center"}},"body"),i("td",{style:{"text-align":"center"}},"object"),i("td",{style:{"text-align":"center"}},"用户")]),i("tr",null,[i("td",{style:{"text-align":"center"}},"default_project_id(Optional)"),i("td",{style:{"text-align":"center"}},"body"),i("td",{style:{"text-align":"center"}},"string"),i("td",{style:{"text-align":"center"}},"项目ID")]),i("tr",null,[i("td",{style:{"text-align":"center"}},"domain_id(Optional)"),i("td",{style:{"text-align":"center"}},"body"),i("td",{style:{"text-align":"center"}},"string"),i("td",{style:{"text-align":"center"}},"区域ID")]),i("tr",null,[i("td",{style:{"text-align":"center"}},"federated(Optional)"),i("td",{style:{"text-align":"center"}},"body"),i("td",{style:{"text-align":"center"}},"list"),i("td",{style:{"text-align":"center"}},"用户联邦列表")]),i("tr",null,[i("td",{style:{"text-align":"center"}},"enabled(Optional)"),i("td",{style:{"text-align":"center"}},"body"),i("td",{style:{"text-align":"center"}},"boolean"),i("td",{style:{"text-align":"center"}},"是否启用")]),i("tr",null,[i("td",{style:{"text-align":"center"}},"name"),i("td",{style:{"text-align":"center"}},"body"),i("td",{style:{"text-align":"center"}},"string"),i("td",{style:{"text-align":"center"}},"用户名称")]),i("tr",null,[i("td",{style:{"text-align":"center"}},"password(Optional)"),i("td",{style:{"text-align":"center"}},"body"),i("td",{style:{"text-align":"center"}},"string"),i("td",{style:{"text-align":"center"}},"密码")]),i("tr",null,[i("td",{style:{"text-align":"center"}},"extra(Optional)"),i("td",{style:{"text-align":"center"}},"body"),i("td",{style:{"text-align":"center"}},"string"),i("td",{style:{"text-align":"center"}},"额外信息")]),i("tr",null,[i("td",{style:{"text-align":"center"}},"options(Optional)"),i("td",{style:{"text-align":"center"}},"body"),i("td",{style:{"text-align":"center"}},"object"),i("td",{style:{"text-align":"center"}},"选项")])])],-1),i("blockquote",null,[i("p",null,"创建用户body json案例如下：")],-1),i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{  ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'    "user": {  ')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'        "default_project_id": "263fd9",  ')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'        "domain_id": "1789d1",  ')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'        "enabled": true,  ')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'        "federated": [  ')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            {  ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'                "idp_id": "efbab5a6acad4d108fec6c63d9609d83",  ')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'                "protocols": [  ')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                    {  ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'                        "protocol_id": "mapped",  ')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'                        "unique_id": "test@example.com"  ')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                    }  ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                ]  ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            }  ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        ],  ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'        "name": "James Doe",  ')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'        "password": "secretsecret",  ')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'        "description": "James Doe user",  ')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'        "email": "jdoe@example.com",  ')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'        "options": {  ')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'            "ignore_password_expiry": true  ')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }  ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }  ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"其他接口参数基本一致，可以查看每个接口的request与response的数据格式。",-1),i("blockquote",null,[i("p",null,"详细代码见网页")],-1),i("h2",{id:"redis集群部署与优化",tabindex:"-1"},[s("Redis集群部署与优化 "),i("a",{class:"header-anchor",href:"#redis集群部署与优化","aria-label":'Permalink to "Redis集群部署与优化"'},"​")],-1),i("ol",null,[i("li",null,"哨兵模式概述")],-1),i("p",null,"在说哨兵之前，先说下主从复制，Redis的主从复制模式，一旦主节点出现故障无法提供服务，需要人工介入手工将从节点调整为主节点，同时应用端还需要修改新的主节点地址。这种故障转移的方式对于很多应用场景是不能容忍的。正式由于这个问题，Redis提供了Sentinel（哨兵）架构来解决这个问题。",-1),i("p",null,"Redis Sentinel是一个分布式的架构，它本身也是一个独立的Redis节点，但是它不存储数据，只支持部分命令，它能够自动完成故障发现和故障转移，并通知应用方，从而实现高可用。",-1),i("p",null,"Redis Sentinel 包含若干个Sentinel节点和Redis数据节点，每个Sentinel节点会对数据节点和其他Sentinel节点进行监控。当发现节点异常时，会对节点做下线标识，如果被标识的是主节点，此时会与其他Sentinel节点进行协商，当大多数Sentinel节点都认为主节点不可达时候，会发起选举，选出一个 Sentinel 节点来完成自动故障转移的工作，同时会将这个变化通知给Redis的应用方。这个过程是完全自动化的，无需人工干预。",-1),i("ol",{start:"2"},[i("li",null,"哨兵模式主要功能")],-1),i("p",null,"Sentinel 主要提供以下几个功能：",-1),i("ul",null,[i("li",null,"监控：定期检测Redis数据节点、其他Sentinel节点是否可达。"),i("li",null,"通知：将故障转移的结果通知给应用方。"),i("li",null,"主节点故障转移：实现从节点晋升为主节点，并维护后续正确的主从关系。"),i("li",null,"配置提供者：客户端在初始化的时候连接Sentinel节点集合，从中获取主节点信息。"),i("li",null,"多个Sentinel节点来共同判断故障，可以有效防止误判，同时如果个别Sentinel节点不可用，整个Sentinel节点集合依然是高可用的。")],-1),i("ol",{start:"3"},[i("li",null,"哨兵模式工作流程")],-1),i("p",null,"Sentinel是Redis的高可用性解决方案：",-1),i("p",null,"由一个或多个Sentinel实例组成的Sentinel系统可以监视任意多个主服务器，以及所有从服务器，并在被监视的主服务器进入下线状态时，自动将下线主服务器属下的某个从服务器升级为新的主服务器，然后由新的主服务器代替已下线的主服务器继续处理命令请求。",-1),i("p",null,"Sentinel负责监控集群中的所有主、从Redis，当发现主故障时，Sentinel会在所有的从中选一个成为新的主。并且会把其余的从变为新主的从。同时那台有问题的旧主也会变为新主的从，即当旧的主即使恢复时，并不会恢复原来的主身份，而是作为新主的一个从。",-1),i("p",null,"在Redis高可用架构中，Sentinel往往不是只有一个，而是有三个或者以上。目的是为了让其更加可靠，毕竟主和从切换角色这个过程还是蛮复杂的。",-1),i("h3",{id:"redis哨兵模式服务案例实现",tabindex:"-1"},[s("Redis哨兵模式服务案例实现 "),i("a",{class:"header-anchor",href:"#redis哨兵模式服务案例实现","aria-label":'Permalink to "Redis哨兵模式服务案例实现"'},"​")],-1),i("h4",{id:"一主二从redis集群部署",tabindex:"-1"},[s("一主二从Redis集群部署 "),i("a",{class:"header-anchor",href:"#一主二从redis集群部署","aria-label":'Permalink to "一主二从Redis集群部署"'},"​")],-1),i("ol",null,[i("li",null,"使用SSH工具连接三个虚拟机节点修改主机名。命令如下所示：")],-1),i("p",null,"redis1主节点：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@localhost "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# hostnamectl set-hostname redis1")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"redis2从节点：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@localhost "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# hostnamectl set-hostname redis2")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"redis3从节点：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@localhost "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# hostnamectl set-hostname redis3")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"修改主机名完成后，需要重新连接主机。",-1),i("ol",{start:"2"},[i("li",null,"将提供的Redis安装文件下载redis-3.2.12.tar.gz到三台虚拟机中，解压到/opt目录中，并配置yum源使用本地目录，命令如下（三台虚拟机操作一致，以redis1主机为例）：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# curl -O http://mirrors.douxuedu.com/competition/redis-3.2.12.tar.gz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# tar -xf redis-3.2.12.tar.gz -C /opt/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# mv /etc/yum.repos.d/"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /media/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# cat "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<<"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," EOF"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," >>"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/yum.repos.d/redis.repo")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"[redis]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"name=redis")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"baseurl=file:///opt/redis")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"gpgcheck=0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"enabled=1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"EOF")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# yum clean all && "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"yum"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," repolist")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("ol",{start:"3"},[i("li",null,"在三个节点使用yum命令安装Redis服务并启动。命令如下（三台虚拟机操作一致，以redis1主机为例）：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# yum install -y redis ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"…"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," …")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Complete!")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# systemctl start redis")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# systemctl enable redis")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("ol",{start:"4"},[i("li",null,"按照主从Redis配置，将redis2节点和redis3节点作为redis1节点的从节点。配置完成后的一主二从Redis集群将作为哨兵模式的基础。命令如下：")],-1),i("blockquote",null,[i("p",null,"redis1节点： 修改redis1节点的配置文件/etc/redis.conf如下：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# vi /etc/redis.conf")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第一处修改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# bind 127.0.0.1"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"                     //找到bind 127.0.0.1这行并注释掉")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第二处修改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"protected-mode"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," no"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                //将yes修改为no，外部网络可以访问")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第三处修改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"daemonize"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," yes"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                       //将no修改为yes，开启守护进程")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第四处修改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"requirepass"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "123456"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                   //添加设置访问密码")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第五处修改，设定主库密码与当前库密码同步，保证从库能够提升为主库")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"masterauth"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "123456"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第六处修改，将no修改为yes，打开AOF持久化支持")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"appendonly"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," yes")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,[s("至此，redis1主节点配置完毕，重启服务，命令"),i("code",null,"systemctl restart redis")],-1),i("blockquote",null,[i("p",null,"redis2节点： 修改redis2节点的配置文件/etc/redis.conf如下：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# vi /etc/redis.conf")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第一处修改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# bind 127.0.0.1"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"                     //找到bind 127.0.0.1这行并注释掉")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第二处修改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"protected-mode"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," no"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    //将yes修改为no，外部网络可以访问")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第三处修改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"daemonize"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," yes"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                       //将no修改为yes，开启守护进程")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第四处修改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# requirepass foobared"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"                 //找到该行")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"requirepass"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "123456"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                   //在下方添加设置访问密码")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第五处修改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# slaveof <masterip> <masterport>"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"       //找到该行")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slaveof"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 192.168.200.21"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 6379"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"          //在下方添加访问的主节点IP与端口")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第六处修改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# masterauth <master-password>"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        //找到该行")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"masterauth"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "123456"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                   //在下方添加访问主节点密码")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第七处修改，将no修改为yes，打开AOF持久化支持")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"appendonly"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," yes")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,[s("至此，redis2主节点配置完毕，重启服务，命令"),i("code",null,"systemctl restart redis")],-1),i("blockquote",null,[i("p",null,"配置redis3节点： 修改redis3节点的配置文件/etc/redis.conf如下：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis3 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# vi /etc/redis.conf")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第一处修改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# bind 127.0.0.1"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"                     //找到bind 127.0.0.1这行并注释掉")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第二处修改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"protected-mode"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," no"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                    //将yes修改为no，外部网络可以访问")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第三处修改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"daemonize"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," yes"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                       //将no修改为yes，开启守护进程")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第四处修改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# requirepass foobared"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"                 //找到该行")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"requirepass"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "123456"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                   //在下方添加设置访问密码")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第五处修改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# slaveof <masterip> <masterport>"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"       //找到该行")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slaveof"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 192.168.200.21"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 6379"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"          //在下方添加访问的主节点IP与端口")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第六处修改")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# masterauth <master-password>"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        //找到该行")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"masterauth"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "123456"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                   //在下方添加访问主节点密码")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#第七处修改，将no修改为yes，打开AOF持久化支持")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"appendonly"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," yes")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,[s("至此，redis3主节点配置完毕，重启服务，命令"),i("code",null,"systemctl restart redis"),i("strong",null,"这样一主二从Redis集群部署就完成了，一主二从Redis集群部署完成后，现在在每个节点查询节点redis服务信息如下所示：")],-1),i("blockquote",null,[i("p",null,"redis1主节点：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# redis-cli -h 192.168.200.21 -p 6379 -a 123456 info replication")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Replication")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"role:master")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"connected_slaves:2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slave0:ip"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"=192.168.200.22,port=6379,state=online,offset=9383,lag=0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slave1:ip"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"=192.168.200.23,port=6379,state=online,offset=9238,lag=1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_repl_offset:9383")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_active:1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_size:1048576")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_first_byte_offset:2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_histlen:9382")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"redis2从节点：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# redis-cli -h 192.168.200.22 -p 6379 -a 123456 info replication")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Replication")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"role:slave")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_host:192.168.200.21")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_port:6379")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_link_status:up")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_last_io_seconds_ago:1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_sync_in_progress:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slave_repl_offset:2648")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slave_priority:100")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slave_read_only:1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"connected_slaves:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_repl_offset:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_active:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_size:1048576")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_first_byte_offset:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_histlen:0")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"redis3从节点：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis3 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# redis-cli -h 192.168.200.23 -p 6379 -a 123456 info replication")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Replication")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"role:slave")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_host:192.168.200.21")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_port:6379")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_link_status:up")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_last_io_seconds_ago:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_sync_in_progress:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slave_repl_offset:8658")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slave_priority:100")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slave_read_only:1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"connected_slaves:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_repl_offset:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_active:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_size:1048576")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_first_byte_offset:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_histlen:0")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("h4",{id:"redis哨兵模式配置",tabindex:"-1"},[s("Redis哨兵模式配置 "),i("a",{class:"header-anchor",href:"#redis哨兵模式配置","aria-label":'Permalink to "Redis哨兵模式配置"'},"​")],-1),i("ol",null,[i("li",null,"修改一主二从redis集群各节点的配置文件，完成redis哨兵模式的配置。")],-1),i("blockquote",null,[i("p",null,"redis1节点： 修改redis1节点的/etc/redis-sentinel.conf配置文件，具体内容如下：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# vi /etc/redis-sentinel.conf ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 1. 保护模式修改为否，允许远程连接")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"protected-mode"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," no")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 2. 修改监控地址，为主redis库的主机ip地址")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," monitor"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mymaster"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 192.168.200.21"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 6379"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 3. 添加配置5秒内没有响应，就反馈服务器挂了")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," down-after-milliseconds"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mymaster"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 5000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 4. 修改配置15秒内master没有活起来，就重新选举主")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," failover-timeout"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mymaster"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 15000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 5. 表示如果master重新选出来后，其它slave节点能同时并行从新master同步缓存的台数有多少个，显然该值越大，所有slave节点完成同步切换的整体速度越快，但如果此时正好有人在访问这些slave，可能造成读取失败，影响面会更广。最安全的设置为1，只同一时间，只能有一台干这件事，这样其它slave还能继续服务，但是所有slave全部完成缓存更新同步的进程将变慢。这里设置为2。")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," parallel-syncs"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mymaster"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 6. 添加配置主数据库密码为123456")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," auth-pass"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mymaster"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 123456")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("ol",{start:"2"},[i("li",null,"修改redis2从节点和redis3从节点的/etc/redis-sentinel.conf配置文件，修改内容与redis1主节点的/etc/redis-sentinel.conf配置文件一致。"),i("li",null,"修改完配置文件后，哨兵模式配置就完毕了，接下来需要重启服务。因为Redis服务已经启动，现在只需要启动Redis哨兵服务。命令如下所示："),i("li",null,"所有节点启动哨兵：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# systemctl restart redis-sentinel")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# systemctl enable redis-sentinel")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("h4",{id:"哨兵模式信息查看",tabindex:"-1"},[s("哨兵模式信息查看 "),i("a",{class:"header-anchor",href:"#哨兵模式信息查看","aria-label":'Permalink to "哨兵模式信息查看"'},"​")],-1),i("p",null,"在redis1节点，查看哨兵模式信息，命令如下：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# redis-cli -h 192.168.200.21 -p 26379 INFO Sentinel")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Sentinel")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel_masters:1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel_tilt:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel_running_scripts:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel_scripts_queue_length:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel_simulate_failure_flags:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master0:name"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"=mymaster,status=ok,address=192.168.200.21:6379,slaves=2,sentinels=3")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"在redis2节点，查看哨兵模式信息，命令如下：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# redis-cli -h 192.168.200.22 -p 26379 INFO Sentinel")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Sentinel")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel_masters:1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel_tilt:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel_running_scripts:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel_scripts_queue_length:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel_simulate_failure_flags:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master0:name"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"=mymaster,status=ok,address=192.168.200.21:6379,slaves=2,sentinels=3")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"在redis3节点，查看哨兵模式信息，命令如下：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis3 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# redis-cli -h 192.168.200.23 -p 26379 INFO Sentinel")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Sentinel")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel_masters:1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel_tilt:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel_running_scripts:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel_scripts_queue_length:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sentinel_simulate_failure_flags:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master0:name"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"=mymaster,status=ok,address=192.168.200.21:6379,slaves=2,sentinels=3")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"可以看到目前集群中有一个Redis主节点，两个Redis从节点，三个哨兵节点。",-1),i("h4",{id:"哨兵模式验证",tabindex:"-1"},[s("哨兵模式验证 "),i("a",{class:"header-anchor",href:"#哨兵模式验证","aria-label":'Permalink to "哨兵模式验证"'},"​")],-1),i("p",null,"哨兵作为对Redis实例的监控，通过选举算法保证哨兵的鲁棒性和高可用，所以哨兵至少要部署3台，符合半数原则，需要5或者7，超过一半，不包含一半存活的时候，才能够选举出leader，才能进行主从的切换功能。",-1),i("p",null,"哨兵高可用测试：分别连接对应的Redis服务端，手动停止主Reids服务，看主从是否切换成功。",-1),i("blockquote",null,[i("p",null,"redis1节点，手动停止服务，然后查看主节点是否切换，命令如下：")],-1),i("p",null,[i("code",null,"[root@redis1 ~]# systemctl stop redis")],-1),i("blockquote",null,[i("p",null,"切换到redis2节点，查看Redis集群的主从信息（访问reids2节点的Redis服务），命令如下（redis主节点随机切换到从节点）：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# redis-cli -h 192.168.200.22 -p 6379 -a 123456 info replication")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Replication")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"role:slave")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_host:192.168.200.23")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_port:6379")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_link_status:up")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_last_io_seconds_ago:1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_sync_in_progress:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slave_repl_offset:6591")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slave_priority:100")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slave_read_only:1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"connected_slaves:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_repl_offset:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_active:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_size:1048576")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_first_byte_offset:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_histlen:0")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"可以看到，redis2节点的master_host变成了192.168.200.23，也就是说redis3节点变成了主节点。",-1),i("blockquote",null,[i("p",null,"然后切换到redis3节点，查看Redis集群的主从信息（访问reids3节点的Redis服务），命令如下：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis3 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# redis-cli -h 192.168.200.23 -p 6379 -a 123456 info replication")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Replication")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"role:master")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"connected_slaves:1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slave0:ip"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"=192.168.200.22,port=6379,state=online,offset=7461,lag=0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_repl_offset:7461")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_active:1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_size:1048576")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_first_byte_offset:2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_histlen:7460")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"redis3节点成功切换成了主节点。可以看到，当主节点发生了宕机，其他的从节点可以自动切换成主节点。",-1),i("blockquote",null,[i("p",null,"切换到redis1节点，启动恢复Redis服务，查看redis集群的主从信息（访问reids1节点的Redis服务），命令如下：")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# systemctl restart redis")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# systemctl restart redis-sentinel")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@redis1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# redis-cli -h 192.168.200.21 -p 6379 -a 123456 info replication")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Replication")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"role:slave")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_host:192.168.200.23")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_port:6379")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_link_status:up")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_last_io_seconds_ago:1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_sync_in_progress:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slave_repl_offset:103524")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slave_priority:100")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"slave_read_only:1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"connected_slaves:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"master_repl_offset:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_active:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_size:1048576")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_first_byte_offset:0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"repl_backlog_histlen:0")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"可以看见redis1节点变成了从节点。Redis哨兵模式的验证成功。",-1),i("h2",{id:"ansible集群部署",tabindex:"-1"},[s("Ansible集群部署 "),i("a",{class:"header-anchor",href:"#ansible集群部署","aria-label":'Permalink to "Ansible集群部署"'},"​")],-1),i("h3",{id:"elk常见架构",tabindex:"-1"},[s("ELK常见架构 "),i("a",{class:"header-anchor",href:"#elk常见架构","aria-label":'Permalink to "ELK常见架构"'},"​")],-1),i("ol",null,[i("li",null,"lasticsearch+Logstash+Kibana：这种架构是最常见的一种，也是最简单的一种架构，这种架构通过Logstash收集日志，运用Elasticsearch分析日志，最后通过Kibana中展示日志信息。 Elasticsearch：是一个开源分布式搜索引擎，它提供存储、分析、搜索功能。有分布式、基于reasful风格、支持海量高并发的准实时搜索场景、稳定、可靠、快速、使用方便等特点。其作用是接收搜集海量结构化日志数据，并提供给Kibana查询分析。 Logstash：是一个开源日志搜集、分析、过滤框架，支持多种数据输入输出方式。 它用于收集日志，对日志进行过滤形成结构化数据，并转发到Elasticsearch中。 Kibana：是一个开源日志报表系统，对Elasticsearch以及Logstash有良好的Web页面支持。它能对Elasticsearch提供的数据进行分析展示。"),i("li",null,"Elasticsearch+Logstash+Filebeat+Kibana：在这种架构中增加了一个Filebeat模块。这个模块在上面的内容中没有对它详细介绍，它是一款轻量的日志收集代理，用来部署在客户端中。这个服务较Logstash来说能够节省资源，一般在生产环境中大多采用这种架构，但是这种架构有一个弊端，那就是当Logstash出现故障后，会造成日志的丢失。"),i("li",null,"Elasticsearch+Logstash+lebeat+Redis（及其他中间件）+Kibana：这种架构等于是上面第二种的完善，通过增加中间件避免数据丢失，当Logstash出现故障后，日志依旧留存在中间件内，当Logstash再次启动，则会读取中间件中积压的日志。在出现“too many open files”报错的时候，大多数情况是由于程序没有正常关闭一些资源引起的，所以出现这种情况时需要检查I/O读写、socket通讯等是否正常关闭等。当然也可以通过修改参数，将系统的文件句柄限制提高，来缓解这一压力。")],-1),i("h3",{id:"elk部署",tabindex:"-1"},[s("ELK部署 "),i("a",{class:"header-anchor",href:"#elk部署","aria-label":'Permalink to "ELK部署"'},"​")],-1),i("p",null,"（1）配置主机映射：",-1),i("p",null,"修改当前节点主机名为ansible，并修改ansible节点主机映射，命令如下：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@localhost "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# hostnamectl set-hostname ansible")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@localhost "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# bash")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# cat /etc/hosts")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"127.0.0.1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  localhost"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost.localdomain"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost4"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost4.localdomain4")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},":1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"     localhost"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost.localdomain"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost6"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," localhost6.localdomain6")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"172.128.11.162"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ansible")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"172.128.11.217"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," node1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"172.128.11.170"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," node2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"172.128.11.248"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," node3")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"配置免密访问，虚拟机root用户密码为000000，命令如下：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# ssh-keygen")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# ssh-copy-id node1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# ssh-copy-id node2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# ssh-copy-id node3")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"将ansible节点的域名解析文件复制给安装Elasticsearch集群服务的三个节点，命令如下：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# scp /etc/hosts node1:/etc/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# scp /etc/hosts node2:/etc/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# scp /etc/hosts node3:/etc/")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,[s("关闭ansible节点的防火墙和Selinux配置（如已关闭，则不需要操作），命令如下： "),i("code",null,"[root@ansible ~]# setenforce 0"),s(" （2）软件包下载及uum源配置")],-1),i("p",null,"修将提供的Elasticsearch、Kibana以及Logstash软件包下载至ansible节点/root目录下，并将相应服务的软件包拷贝至不同节点。",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# curl -O http://mirrors.douxuedu.com/competition/Ansible.tar.gz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# tar -zxvf Ansible.tar.gz")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"将Elasticsearch软件包拷贝至三个节点，将Kibana软件包拷贝至node1节点，将Logstash软件包拷贝至node2节点，命令如下：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# scp elasticsearch-6.0.0.rpm node1:/root/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# scp elasticsearch-6.0.0.rpm node2:/root/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# scp elasticsearch-6.0.0.rpm node3:/root/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# scp kibana-6.0.0-x86_64.rpm node1:/root/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# scp kibana-6.0.0-x86_64.rpm node2:/root/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# scp kibana-6.0.0-x86_64.rpm node3:/root/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# scp logstash-6.0.0.rpm node1:/root/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# scp logstash-6.0.0.rpm node2:/root/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# scp logstash-6.0.0.rpm node3:/root/")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"将软件包ansible.tar.gz上传至ansible节点配置本地yum源，并安装Ansible：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# tar -zxvf ansible.tar.gz -C /opt/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# mv /etc/yum.repos.d/"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /media/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# vi /etc/yum.repos.d/local.repo")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[ansible]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"ansible"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"baseurl"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"file:///opt/ansible")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"gpgcheck"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"enabled"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"1")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# yum -y install ansible")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"（3）配置Ansible主机映射",-1),i("p",null,"创建示例目录，并配置Ansible主机映射。",-1),i("div",{class:"language-"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"}),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",null,"[root@ansible ~]# mkdir example")]),s(`
`),i("span",{class:"line"},[i("span",null,"[root@ansible ~]# cd example")]),s(`
`),i("span",{class:"line"},[i("span",null,"[root@ansible example]# vi /etc/ansible/hosts ")]),s(`
`),i("span",{class:"line"},[i("span",null,"[node1]")]),s(`
`),i("span",{class:"line"},[i("span",null,"172.128.11.217")]),s(`
`),i("span",{class:"line"},[i("span",null,"[node2]")]),s(`
`),i("span",{class:"line"},[i("span",null,"172.128.11.170")]),s(`
`),i("span",{class:"line"},[i("span",null,"[node3]")]),s(`
`),i("span",{class:"line"},[i("span",null,"172.128.11.248")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"使用CentOS-7-x86_64-DVD-2009.iso镜像文件作为安装库，将镜像挂载至/opt/centos，编写yum源文件，安装vsftpd服务，用于给远程主机安装Java。命令如下：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# curl -O http://mirrors.douxuedu.com/competition/CentOS-7-x86_64-DVD-2009.iso")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# mkdir /opt/centos")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# mount CentOS-7-x86_64-DVD-2009.iso /opt/centos/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# vi /etc/yum.repos.d/local.repo ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[ansible]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"ansible")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"baseurl"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"file:///opt/ansible")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"gpgcheck"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"enabled"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[centos]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"centos")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"baseurl"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"file:///opt/centos")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"gpgcheck"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"enabled"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# yum install -y vsftpd")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# vi /etc/vsftpd/vsftpd.conf")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"anon_root"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/opt")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# systemctl restart vsftpd")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# vi ftp.repo")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[centos]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"centos")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"baseurl"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"ftp://172.128.11.162/centos/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"gpgcheck"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"enabled"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"1")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"（4）安装Elasticsearch获取配置文件",-1),i("p",null,"安装Elasticsearch服务并编写node1节点配置文件，命令如下：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# rpm -ivh /root/elasticsearch-6.0.0.rpm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# cp -rf /etc/elasticsearch/elasticsearch.yml elk1.yml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# cat elk1.yml "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," grep"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Ev"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "^$|^#"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"cluster.name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ELK")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," node1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.master:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," true")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.data:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," false")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"path.data:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/lib/elasticsearch")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"path.logs:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/log/elasticsearch")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"network.host:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 172.128.11.217")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"http.port:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 9200")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"discovery.zen.ping.unicast.hosts:"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ["),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"node1"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"node2"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"node3"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"编写node2节点配置文件，命令如下：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# cp elk1.yml elk2.yml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# cat elk2.yml "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," grep"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Ev"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "^$|^#"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"cluster.name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ELK")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," node2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.master:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," false")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.data:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," true")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"path.data:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/lib/elasticsearch")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"path.logs:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/log/elasticsearch")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"network.host:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 172.128.11.170")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"http.port:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 9200")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"discovery.zen.ping.unicast.hosts:"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ["),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"node1"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"node2"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"node3"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"编写node3节点配置文件，命令如下：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# cp elk1.yml elk3.yml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# cat elk3.yml "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," grep"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Ev"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "^$|^#"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"cluster.name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ELK")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," node3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.master:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," false")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"node.data:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," true")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"path.data:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/lib/elasticsearch")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"path.logs:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/log/elasticsearch")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"network.host:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 172.128.11.248")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"http.port:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 9200")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"discovery.zen.ping.unicast.hosts:"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ["),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"node1"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"node2"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"node3"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"（5）安装Kibana获取配置文件",-1),i("p",null,"安装Kibana服务并编写配置文件，命令如下：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# rpm -ivh /root/kibana-6.0.0-x86_64.rpm ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# cp -rf /etc/kibana/kibana.yml "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},".")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# cat kibana.yml "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"grep"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -v"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ^#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"server.port:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 5601")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"server.host:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "172.128.11.217"'),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," <"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"-node1节点IP")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"elasticsearch.url:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "http://172.128.11.217:9200"')])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"（6）安装Logstash获取配置文件",-1),i("p",null,"安装Logstash服务并获取配置文件，命令如下：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# rpm -ivh /root/logstash-6.0.0.rpm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# cp -rf /etc/logstash/logstash.yml "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},".")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# vi logstash.yml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"http.host:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "172.128.11.170"')])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"新建日志输出文件，内容如下（⚠删除注释）：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# vi syslog.conf")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"input"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    file"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        path"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "/var/log/messages"'),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," #指定文件的路径")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        type"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "systemlog"'),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," #定义日志类型，可自定义")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        start_position"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "beginning"'),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," #指定何时开始收集")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        stat_interval"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "3"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"output"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," [type] "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"=="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "systemlog"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        elasticsearch"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            hosts"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ["),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"172.128.11.217:9200"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]   "),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#这里的地址为node1主机地址")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            index"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "system-log-%{+YYYY.MM.dd}"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,"（7）编写剧本文件",-1),i("p",null,"安编写Playbook剧本文件，命令如下：",-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@ansible example]# vi cscc_install.yaml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"-"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," hosts:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," all")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  remote_user:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  tasks:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rm"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," repo")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      shell:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rm"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -rf"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/yum.repos.d/"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," copy"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," repo")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      copy:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," src=ftp.repo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dest=/etc/yum.repos.d/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," java")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      shell:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," yum"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -y"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," java-1.8.0-"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"*")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elk")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      shell:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rpm"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -ivh"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elasticsearch-6.0.0.rpm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"-"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," hosts:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," node1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  remote_user:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  tasks:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," copy"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," config")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      copy:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," src=elk1.yml"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dest=/etc/elasticsearch/elasticsearch.yml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," daemon-reload")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      shell:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," daemon-reload")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," start"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elk")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      shell:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," start"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elasticsearch"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," && "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," enable"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elasticsearch")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," kibana")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      shell:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rpm"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -ivh"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," kibana-6.0.0-x86_64.rpm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," copy"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," config")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      template:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," src=kibana.yml"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dest=/etc/kibana/kibana.yml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," start"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," kibana")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      shell:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," start"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," kibana"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," && "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," enable"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," kibana")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"-"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," hosts:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," node2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  remote_user:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  tasks:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," copy"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," config")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      copy:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," src=elk2.yml"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dest=/etc/elasticsearch/elasticsearch.yml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," daemon-reload")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      shell:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," daemon-reload")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," start"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elk")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      shell:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," start"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elasticsearch"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," && "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," enable"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elasticsearch")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," logstash")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      shell:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rpm"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -ivh"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," logstash-6.0.0.rpm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," copy"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," config")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      copy:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," src=logstash.yml"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dest=/etc/logstash/logstash.yml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," copy"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," config")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      copy:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," src=syslog.conf"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dest=/etc/logstash/conf.d/syslog.conf")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"-"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," hosts:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," node3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  remote_user:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  tasks:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," copy"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," config")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      copy:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," src=elk3.yml"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dest=/etc/elasticsearch/elasticsearch.yml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," daemon-reload")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      shell:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," daemon-reload")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," start"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elk")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      shell:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," start"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elasticsearch"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," && "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," enable"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," elasticsearch")])])]),i("button",{class:"code-block-unfold-btn"})],-1),i("p",null,[s("执行Playbook完成ELK集群的部署，命令如下： "),i("code",null,"[root@ansible example]# ansible-playbook cscc_install.yaml")],-1),i("blockquote",null,[i("p",null,"如下信息就是正常的")],-1),i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"PLAY"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," RECAP"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," ********************************************************************************************************")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"10.3.61.205"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ok="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"12"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   changed="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   unreachable="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    failed="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    skipped="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    rescued="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    ignored="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"10.3.61.219"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ok="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"12"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   changed="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   unreachable="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    failed="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    skipped="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    rescued="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    ignored="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"10.3.61.242"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ok="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"9"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    changed="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"7"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    unreachable="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    failed="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    skipped="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    rescued="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    ignored="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0")])])]),i("button",{class:"code-block-unfold-btn"})],-1)])]),"main-header":l(()=>[h(a.$slots,"main-header")]),"main-header-after":l(()=>[h(a.$slots,"main-header-after")]),"main-nav":l(()=>[h(a.$slots,"main-nav")]),"main-content-before":l(()=>[h(a.$slots,"main-content-before")]),"main-content":l(()=>[h(a.$slots,"main-content")]),"main-content-after":l(()=>[h(a.$slots,"main-content-after")]),"main-nav-before":l(()=>[h(a.$slots,"main-nav-before")]),"main-nav-after":l(()=>[h(a.$slots,"main-nav-after")]),comment:l(()=>[h(a.$slots,"comment")]),footer:l(()=>[h(a.$slots,"footer")]),aside:l(()=>[h(a.$slots,"aside")]),"aside-custom":l(()=>[h(a.$slots,"aside-custom")]),default:l(()=>[h(a.$slots,"default")]),_:3},8,["frontmatter"])}}};export{q as default,b as usePageData};
