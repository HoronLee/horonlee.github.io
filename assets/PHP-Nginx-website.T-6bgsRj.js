import{_ as g}from"./ValaxyMain.vue_vue_type_style_index_0_lang.CVz-OEk3.js";import"./chunks/@vueuse/motion.Bjv2JULu.js";import{e as o,u as F,a as y}from"./chunks/vue-router.CkK6wkE3.js";import{aa as c,al as a,ad as h,ae as i,ah as u,ai as s,F as C,ab as m,Z as B}from"./framework.DiIp3j3P.js";import"./app.DYfWnlAw.js";import"./chunks/dayjs.Byk5cVHE.js";import"./chunks/vue-i18n.Cqw7qwJJ.js";import"./chunks/pinia.DAg2g0nX.js";import"./chunks/nprogress.QNtX8Req.js";/* empty css                    */import"./YunComment.vue_vue_type_style_index_0_lang.YMmXRdII.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.NFwy7W3t.js";import"./post.DSQTc9o3.js";const f=o("/posts/PHP-Nginx-website",async k=>JSON.parse('{"title":"使用PHP+Nginx搭建网页","description":null,"frontmatter":{"title":"使用PHP+Nginx搭建网页","businesscard":true,"date":"2023-04-21 13:35:43","updated":null,"tags":["Ubuntu","Linux","PHP","Nginx"],"categories":["PHP"],"keywords":null,"description":null,"top_img":null,"comments":null,"cover":"https://tse1-mm.cn.bing.net/th/id/OIP-C.XjFkev6xFnnCtjNLejCCaAHaHa?pid=ImgDet&rs=1","toc":null,"toc_number":null,"toc_style_simple":null,"copyright":null,"copyright_author":null,"copyright_author_href":null,"copyright_url":null,"copyright_info":null,"mathjax":null,"katex":null,"aplayer":null,"highlight_shrink":null,"aside":null,"swiper_index":3},"headers":[],"relativePath":"pages/posts/PHP-Nginx-website.md","lastUpdated":1758206429000}'),{lazy:(k,n)=>k.name===n.name}),G={__name:"PHP-Nginx-website",setup(k,{expose:n}){const{data:p}=f(),r=y(),E=F(),e=Object.assign(E.meta.frontmatter||{},p.value?.frontmatter||{});return r.currentRoute.value.data=p.value,B("valaxy:frontmatter",e),globalThis.$frontmatter=e,n({frontmatter:{title:"使用PHP+Nginx搭建网页",businesscard:!0,date:"2023-04-21 13:35:43",updated:null,tags:["Ubuntu","Linux","PHP","Nginx"],categories:["PHP"],keywords:null,description:null,top_img:null,comments:null,cover:"https://tse1-mm.cn.bing.net/th/id/OIP-C.XjFkev6xFnnCtjNLejCCaAHaHa?pid=ImgDet&rs=1",toc:null,toc_number:null,toc_style_simple:null,copyright:null,copyright_author:null,copyright_author_href:null,copyright_url:null,copyright_info:null,mathjax:null,katex:null,aplayer:null,highlight_shrink:null,aside:null,swiper_index:3}}),(t,l)=>{const d=g;return m(),c(d,{frontmatter:C(e)},{"main-content-md":a(()=>[l[0]||(l[0]=i("blockquote",null,[i("p",null,[s("本教程基于"),i("a",{href:"https://blog.horon.top/2023/04/20/ubuntu%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEnginx%E5%8F%8A%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95/",target:"_blank",rel:"noreferrer"},"这篇Nginx文章"),s("，如果不解之处可前往查阅")])],-1)),u(" more "),l[1]||(l[1]=i("h1",{id:"安装php",tabindex:"-1"},[s("安装PHP "),i("a",{class:"header-anchor",href:"#安装php","aria-label":'Permalink to "安装PHP"'},"​")],-1)),l[2]||(l[2]=i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," apt-get"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," update"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"     # 更新软件源")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," apt-get"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," php"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # 安装php")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"php"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -v"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  # 查看php版本")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),l[3]||(l[3]=i("h1",{id:"安装php-fpm",tabindex:"-1"},[s("安装PHP-fpm "),i("a",{class:"header-anchor",href:"#安装php-fpm","aria-label":'Permalink to "安装PHP-fpm"'},"​")],-1)),l[4]||(l[4]=i("ol",null,[i("li",null,[s("先确定php版本"),i("code",null,"php -v")])],-1)),l[5]||(l[5]=i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"PHP"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 8.1.2-1ubuntu2.11"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (cli) ("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"built:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Feb"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 22"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 2023"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 22:56:18"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") ("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"NTS"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Copyright"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (c) The PHP Group")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Zend"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Engine"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," v4.1.2,"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Copyright"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (c) Zend Technologies")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    with"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Zend"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," OPcache"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," v8.1.2-1ubuntu2.11,"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Copyright"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (c), by Zend Technologies")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),l[6]||(l[6]=i("p",null,[s("可以看到我这里php版本是8.1（目前默认安装的最新版） 2. 安装对应版本的PHP-fpm"),i("code",null,"sudo apt-get install php-fpm"),s(" 3. 查看php-fpm的状态"),i("code",null,"sudo systemctl status php8.1-fpm")],-1)),l[7]||(l[7]=i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"root@HoronLeeFirstEcs:~#"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," status"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," php8.1-fpm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"●"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," php8.1-fpm.service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," The"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," PHP"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 8.1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," FastCGI"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Process"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Manager")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"     Loaded:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," loaded"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (/lib/systemd/system/php8.1-fpm.service; "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"enabled"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"; "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"vendor"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," preset:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," enabled"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"     Active:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," active"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (running) since Thu 2023-04-20 20:10:43 CST; "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"17h"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ago")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"       Docs:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," man:php-fpm8.1"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"8"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    Process:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 259478"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ExecStartPost=/usr/lib/php/php-fpm-socket-helper"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /run/php/php-fpm.sock"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/php/8.1/fpm/pool.d/www.conf"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 81"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (code=exited, "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"status=0/SUCCESS"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   Main"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," PID:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 259475"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (php-fpm8.1)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"     Status:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "Processes active: 0, idle: 2, Requests: 4, slow: 0, Traffic: 0req/sec"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      Tasks:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 3"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (limit: "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1929"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"     Memory:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 8.9M")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        CPU:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 2.739s")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"     CGroup:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /system.slice/php8.1-fpm.service")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"             ├─259475"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "php-fpm: master process (/etc/php/8.1/fpm/php-fpm.conf)')])])]),i("button",{class:"code-block-unfold-btn"})],-1)),l[8]||(l[8]=i("h1",{id:"配置nginx和php-fpm",tabindex:"-1"},[s("配置Nginx和PHP-FPM "),i("a",{class:"header-anchor",href:"#配置nginx和php-fpm","aria-label":'Permalink to "配置Nginx和PHP-FPM"'},"​")],-1)),l[9]||(l[9]=i("blockquote",null,[i("p",null,"使用Nginx发布PHP网页，就需要这两个程序之间有沟通，这个时候就需要对其进行相应配置")],-1)),l[10]||(l[10]=i("ol",null,[i("li",null,[s("配置Nginx"),i("code",null,"sudo vim /etc/nginx/sites-available/default")]),i("li",null,[s("在其中自带的server字段中找到"),i("code",null,"# pass PHP scripts to FastCGI server"),s("下的关于php的被注释的子字段（大约第56行），将其改为（或者直接添加）： "),i("strong",null,"注意PHP版本号！")])],-1)),l[11]||(l[11]=i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"location "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," \\"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".php$ {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"               include"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," snippets/fastcgi-php.conf;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"               fastcgi_pass unix:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/run/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"php/php8."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"-fpm.sock;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),l[12]||(l[12]=i("p",null,"如果你找不到位置，我这里提供其他部分的内容：",-1)),l[13]||(l[13]=i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"server_name _;")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        location / {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," First attempt "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," serve request as file, then")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," as "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"directory"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", then fall back "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," displaying a "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"404"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                try_files $uri $uri/ "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"404"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"在这里👉location "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," \\"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".php$ {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"               include"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," snippets/fastcgi-php.conf;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"               fastcgi_pass unix:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/run/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"php/php8."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"-fpm.sock;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }👈在这里")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," pass PHP scripts "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," FastCGI server")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"location "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," \\"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".php$ {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       include"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," snippets/fastcgi-php.conf;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," With php-fpm (or other unix sockets):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"       fastcgi_pass unix:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/run/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"php/php7."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"4"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"-fpm.sock;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," With php-cgi (or other tcp sockets):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"       fastcgi_pass "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"127"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"9000"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),l[14]||(l[14]=i("ol",{start:"3"},[i("li",null,[s("配置php-fpm"),i("code",null,"vim /etc/php/8.1/fpm/pool.d/www.conf")])],-1)),l[15]||(l[15]=i("div",{class:"language-vim"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"; The address on which "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," accept FastCGI requests.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"; Valid syntaxes are:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";   "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'ip.add.re.ss:port'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    - "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," listen on a TCP socket "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," a specific IPv4 address on")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";                            a specific port;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";   "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'[ip:6:addr:ess]:port'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," - "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," listen on a TCP socket "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," a specific IPv6 address on")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";                            a specific port;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";   "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'port'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                 - "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," listen on a TCP socket "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," all addresses")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";                            (IPv6 and IPv4-mapped) on a specific port;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";   "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'/path/to/unix/socket'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," - "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," listen on a unix socket.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"; Note: This value "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"is"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," mandatory.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"listen "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}}," /run/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"php/php8."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"-fpm.sock")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),l[16]||(l[16]=i("p",null,[s("一般来说自带的配置文件不用改，我没有做任何更改 4. 重启一下nginx和php-fpm："),i("code",null,"sudo systemctl restart nginx"),s("&"),i("code",null,"sudo systemctl restart php8.1-fpm")],-1)),l[17]||(l[17]=i("h1",{id:"测试php站点",tabindex:"-1"},[s("测试PHP站点 "),i("a",{class:"header-anchor",href:"#测试php站点","aria-label":'Permalink to "测试PHP站点"'},"​")],-1)),l[18]||(l[18]=i("ol",null,[i("li",null,[s("进入默认站点目录"),i("code",null,"cd /var/www/html")]),i("li",null,[s("新建php文件"),i("code",null,"sudo vim test.php")]),i("li",null,[s("写入测试内容"),i("code",null,"<?php phpinfo();?>")]),i("li",null,"保存退出"),i("li",null,[s("访问"),i("code",null,"http://$IP/test.php"),s("，可以显示PHP系统信息即表示PHP站点搭建完成！ "),i("img",{src:"https://minio-api.horonlee.com/obsidian/assets/%E5%8D%9A%E6%96%87/PHP-Nginx-website/IMG-20250916162933917.png",alt:"PHPInfo"})])],-1))]),"main-header":a(()=>[h(t.$slots,"main-header")]),"main-header-after":a(()=>[h(t.$slots,"main-header-after")]),"main-nav":a(()=>[h(t.$slots,"main-nav")]),"main-content-before":a(()=>[h(t.$slots,"main-content-before")]),"main-content":a(()=>[h(t.$slots,"main-content")]),"main-content-after":a(()=>[h(t.$slots,"main-content-after")]),"main-nav-before":a(()=>[h(t.$slots,"main-nav-before")]),"main-nav-after":a(()=>[h(t.$slots,"main-nav-after")]),comment:a(()=>[h(t.$slots,"comment")]),footer:a(()=>[h(t.$slots,"footer")]),aside:a(()=>[h(t.$slots,"aside")]),"aside-custom":a(()=>[h(t.$slots,"aside-custom")]),default:a(()=>[h(t.$slots,"default")]),_:3},8,["frontmatter"])}}};export{G as default,f as usePageData};
