import{H as W,T as P,B as j,q as G,v as O,u as Q,m as U,o as X,n as Z,_ as J,G as K,x as tt,y as et,z as nt}from"./app.CfWrNu88.js";import{_ as st}from"./YunPostCollapse.vue_vue_type_style_index_0_lang.DK3Wly25.js";import"./chunks/@vueuse/motion.C1YF0VrX.js";import{u as ot,a as at}from"./animation.CxmiZSiL.js";import{a9 as k,bb as B,Z as b,b3 as c,_ as f,bt as $,bB as e,U as C,bf as rt,a6 as t,b_ as o,X as T,bh as it,Y as ct,H as lt,F as R,bd as ut,aQ as mt}from"./framework.tSB2Odh-.js";import{_ as pt}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.CBF25nPr.js";import{a as _t,u as ft}from"./chunks/vue-router.B0lpXBWQ.js";import"./chunks/dayjs.BmWuu2Zz.js";import{u as gt}from"./chunks/vue-i18n.CP2UHYEb.js";import"./chunks/pinia.BF0-M7Fk.js";import"./chunks/nprogress.YXB5kar1.js";/* empty css                    */import"./index.BRXJGymZ.js";function yt(a={primary:"#0078E7"}){const r=W(),l=new P("#999999"),i=new P(a.primary);return{tags:r,getTagStyle:n=>{const p=Array.from(r.value).map(([d,h])=>h.count),g=Math.max(...p),s=Math.min(...p),y=g-s,_=(n-s)/y;return{"--yun-tag-color":l.mix(i,_*100).toString(),fontSize:`${_*36+12}px`}}}}const dt={"inline-flex":""},ht={"inline-flex":"",text:"xs"},vt=k({__name:"YunLayoutPostTag",props:{i:{},title:{},count:{}},setup(a){const r=a,{$t:l}=j(),i=B();return ot(i,{i:r.i||0,delay:25}),(m,n)=>(c(),b("span",{ref_key:"tagRef",ref:i,"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},[f("span",dt,"#"+$(e(l)(a.title)),1),f("span",ht,"["+$(a.count)+"]",1)],512))}}),xt={class:"yun-text-light",text:"center",p:"2"},Ct={class:"justify-center items-end",flex:"~ wrap",gap:"1"},qt=k({__name:"tags",setup(a){G([O({"@type":"CollectionPage"})]);const r=_t(),l=ft(),i=Q(),{t:m}=gt(),n=U(),{tags:p,getTagStyle:g}=yt({primary:i.value.colors.primary}),s=C(()=>r.query.tag||""),y=X(),_=C(()=>y.postList.filter(u=>u.tags?typeof u.tags=="string"?u.tags===s.value:u.tags.includes(s.value):!1)),d=B(),{show:h}=at(d);function V(v){l.push({query:{tag:v}}),h()}const A=Z(n),S=C(()=>Array.from(p.value).sort());return(v,u)=>{const F=J,Y=pt,q=vt,w=rt("RouterView"),z=st,E=K,H=tt,I=et,N=nt;return c(),b(R,null,[t(I,null,{default:o(()=>[t(F),t(w,null,{default:o(({Component:D})=>[(c(),T(it(D),null,{"main-header":o(()=>[t(Y,{title:e(A)||e(m)("menu.tags"),icon:e(n).icon||"i-ri-tag-line",color:e(n).color,"page-title-class":e(n).pageTitleClass},null,8,["title","icon","color","page-title-class"])]),"main-content":o(()=>[t(lt,{"enter-active-class":"animate-fade-in animate-duration-400",appear:""},{default:o(()=>[f("div",xt,$(e(m)("counter.tags",S.value.length)),1)]),_:1}),f("div",Ct,[(c(!0),b(R,null,ut(S.value,([x,L],M)=>(c(),T(q,{key:x,i:M,title:x,count:L.count,style:mt(e(g)(L.count)),onClick:Tt=>V(x.toString())},null,8,["i","title","count","style","onClick"]))),128))]),t(w)]),"main-nav-before":o(()=>[s.value?(c(),T(E,{key:0,ref_key:"collapse",ref:d,m:"t-4",w:"full"},{default:o(()=>[t(Y,{title:s.value,icon:"i-ri-hashtag"},null,8,["title"]),t(z,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:_.value},null,8,["posts"])]),_:1},512)):ct("v-if",!0)]),_:1}))]),_:1}),t(H)]),_:1}),t(N)],64)}}});export{qt as default};
