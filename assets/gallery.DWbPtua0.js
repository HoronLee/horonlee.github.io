const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/YunGallery.5oNEreEA.js","assets/framework.tSB2Odh-.js","assets/app.CfWrNu88.js","assets/chunks/vue-router.B0lpXBWQ.js","assets/chunks/@vueuse/motion.C1YF0VrX.js","assets/chunks/dayjs.BmWuu2Zz.js","assets/chunks/vue-i18n.CP2UHYEb.js","assets/chunks/pinia.BF0-M7Fk.js","assets/chunks/nprogress.YXB5kar1.js","assets/app.CfdRaYZw.css","assets/group-icons.Bm1YPxXM.css","assets/YunPageHeader.vue_vue_type_script_setup_true_lang.CBF25nPr.js"])))=>i.map(i=>d[i]);
import{a9 as C,bf as k,X as h,b3 as i,bb as b,U as w,Z as g,_ as a,c0 as $,bR as K,c1 as O,aO as S,a6 as _,a8 as T,c5 as G,bL as Y,b_ as v,bh as F,bt as L,bB as o,F as U}from"./framework.tSB2Odh-.js";import{A as j,m as M,n as N,q as z,v as I,N as H,O as W,_ as q,y as J,z as X}from"./app.CfWrNu88.js";import"./chunks/@vueuse/motion.C1YF0VrX.js";import"./chunks/dayjs.BmWuu2Zz.js";import{_ as Z}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.CBF25nPr.js";import{u as Q,a as ee}from"./chunks/vue-router.B0lpXBWQ.js";import{u as te}from"./chunks/vue-i18n.CP2UHYEb.js";function oe(n){const t=new TextEncoder;return window.crypto.subtle.importKey("raw",t.encode(n),"PBKDF2",!1,["deriveBits","deriveKey"])}function ne(n,t){return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},n,{name:"AES-CBC",length:256},!0,["encrypt","decrypt"])}function re(){const n=j(),{encrypt:t}=n.value,l=Uint8Array.from(Object.values(t.iv)),e=Uint8Array.from(Object.values(t.salt));return{decrypt:async(s,u)=>{if(!s)return;const d=await oe(s),m=await ne(d,e),f=Uint8Array.from(u,c=>c.charCodeAt(0)),p=await window.crypto.subtle.decrypt({name:"AES-CBC",iv:l},m,f);return new TextDecoder().decode(p)}}}const se=C({__name:"YunGallery",props:{photos:{}},setup(n){return(t,l)=>{const e=k("VAGallery");return i(),h(e,{photos:n.photos},null,8,["photos"])}}}),ae={key:0,"w-full":"","pt-14":"","pb-10":""},le={class:"decrypt-password-container w-full sm:w-1/2","flex-center":"","m-auto":"",relative:""},ce={key:1},ie=C({__name:"ValaxyGalleryDecrypt",props:{encryptedPhotos:{}},setup(n,{expose:t}){const l=n,e=b(""),s=b(""),u=b(!1),{decrypt:d}=re();async function m(){const c=l.encryptedPhotos;if(c)try{const r=await d(e.value,c);s.value=r||""}catch(r){u.value=!0,console.error(r)}}function f(){s.value="",e.value=""}const p=w(()=>JSON.parse(s.value||"[]")||[]);return t({photos:p}),(c,r)=>{const x=se;return i(),g("div",null,[s.value?(i(),g("div",ce,[_(x,{photos:p.value},null,8,["photos"]),a("div",{"w-full":"","text-center":"","mt-8":""},[a("button",{"m-auto":"",class:"btn","font-bold":"",onClick:f}," Encrypt Again ")])])):(i(),g("div",ae,[a("div",le,[$(a("input",{"onUpdate:modelValue":r[0]||(r[0]=y=>e.value=y),"w-full":"",border:"","pl-5":"","pr-11":"","py-3":"",rounded:"","hover:shadow":"",transition:"",type:"password",placeholder:"Enter password",class:S(u.value&&"border-red"),onInput:r[1]||(r[1]=y=>u.value=!1),onKeyup:O(m,["enter"])},null,34),[[K,e.value]]),a("div",{"cursor-pointer":"",absolute:"","text-2xl":"","i-ri-arrow-right-circle-line":"","right-3":"","text-gray":"","hover:text-black":"",onClick:m})])]))])}}}),ue={text:"center",class:"yun-text-light",p:"2"},pe={class:"page-action",text:"center"},ye=["title"],de=C({__name:"gallery",setup(n){const t=Q(),{t:l}=te(),e=M(),s=N(e);z([I({"@type":"CollectionPage"})]);const u=ee(),d=w(()=>u.meta.frontmatter.photos||[]),f=H().value.addons["valaxy-addon-lightgallery"]?T(()=>G(()=>import("./YunGallery.5oNEreEA.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))):()=>null,p=W(),c=Y("galleryRef"),r=w(()=>d.value.length||c.value?.photos.length);return(x,y)=>{const A=q,P=Z,D=ie,R=k("RouterView"),B=J,E=X;return i(),g(U,null,[_(B,null,{default:v(()=>[_(A),_(R,null,{default:v(({Component:V})=>[(i(),h(F(V),null,{"main-header":v(()=>[_(P,{title:o(s)||o(l)("title.gallery"),icon:o(e).icon||"i-ri-gallery-line",color:o(e).color,"page-title-class":o(e).pageTitleClass},null,8,["title","icon","color","page-title-class"])]),default:v(()=>[a("div",ue,L(o(l)("counter.photos",r.value||0)),1),a("div",pe,[a("a",{class:"yun-icon-btn",title:o(l)("accessibility.back"),onClick:y[0]||(y[0]=()=>o(t).back())},[...y[1]||(y[1]=[a("div",{"i-ri-arrow-go-back-line":""},null,-1)])],8,ye)]),o(p)?(i(),h(D,{key:0,ref_key:"galleryRef",ref:c,"encrypted-photos":o(p)},null,8,["encrypted-photos"])):(i(),h(o(f),{key:1,photos:d.value},null,8,["photos"]))]),_:1}))]),_:1})]),_:1}),_(E)],64)}}}),we=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"}));export{se as _,we as g};
