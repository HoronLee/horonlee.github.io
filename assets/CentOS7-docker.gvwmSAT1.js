import{_ as p}from"./ValaxyMain.vue_vue_type_style_index_0_lang.BKY0BFev.js";import"./chunks/@vueuse/motion.C1YF0VrX.js";import{d as m,u,a as g}from"./chunks/vue-router.B0lpXBWQ.js";import{X as F,b3 as b,b_ as a,be as i,_ as s,a5 as e,bB as y,b5 as C}from"./framework.tSB2Odh-.js";import"./app.CfWrNu88.js";import"./chunks/dayjs.BmWuu2Zz.js";import"./chunks/vue-i18n.CP2UHYEb.js";import"./chunks/pinia.BF0-M7Fk.js";import"./chunks/nprogress.YXB5kar1.js";/* empty css                    */import"./YunComment.vue_vue_type_style_index_0_lang.DoC94HOc.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.CBF25nPr.js";import"./post.TKccRjPH.js";const f=m("/posts/CentOS7-docker",async l=>JSON.parse('{"title":"CentOS7安装配置docker","description":"CentOS7安装配置docker以及更改配置文件","frontmatter":{"title":"CentOS7安装配置docker","businesscard":true,"date":"2022-11-27 14:46:08","tags":["CentOS","Linux"],"categories":["服务器运维","Docker"],"description":"CentOS7安装配置docker以及更改配置文件","cover":"https://cdn.1min30.com/wp-content/uploads/2018/04/Logo-Docker.jpg"},"headers":[],"relativePath":"pages/posts/CentOS7-docker.md","lastUpdated":1767692976000}'),{lazy:(l,n)=>l.name===n.name}),R={__name:"CentOS7-docker",setup(l,{expose:n}){const{data:o}=f(),c=u(),k=g(),r=Object.assign(k.meta.frontmatter||{},o.value?.frontmatter||{});return c.currentRoute.value.data=o.value,C("valaxy:frontmatter",r),globalThis.$frontmatter=r,n({frontmatter:{title:"CentOS7安装配置docker",businesscard:!0,date:"2022-11-27 14:46:08",tags:["CentOS","Linux"],categories:["服务器运维","Docker"],description:"CentOS7安装配置docker以及更改配置文件",cover:"https://cdn.1min30.com/wp-content/uploads/2018/04/Logo-Docker.jpg"}}),(t,h)=>{const d=p;return b(),F(d,{frontmatter:y(r)},{"main-content-md":a(()=>[...h[0]||(h[0]=[s("h2",{id:"centos下安装和配置dcoker有一些麻烦-故本人请教学长后打算写下一些经验",tabindex:"-1"},[e("CentOS下安装和配置Dcoker有一些麻烦，故本人请教学长后打算写下一些经验 "),s("a",{class:"header-anchor",href:"#centos下安装和配置dcoker有一些麻烦-故本人请教学长后打算写下一些经验","aria-label":'Permalink to "CentOS下安装和配置Dcoker有一些麻烦，故本人请教学长后打算写下一些经验"'},"​")],-1),s("h3",{id:"step-1-安装必要的一些系统工具",tabindex:"-1"},[e("step 1：安装必要的一些系统工具 "),s("a",{class:"header-anchor",href:"#step-1-安装必要的一些系统工具","aria-label":'Permalink to "step 1：安装必要的一些系统工具"'},"​")],-1),s("p",null,[s("strong",null,"先获得管理员Bash权限："),s("code",null,"su root")],-1),s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"yum"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -y"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," yum-utils"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," device-mapper-persistent-data"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," lvm2")])])]),s("button",{class:"code-block-unfold-btn"})],-1),s("h3",{id:"step-2-添加软件源信息",tabindex:"-1"},[e("Step 2：添加软件源信息 "),s("a",{class:"header-anchor",href:"#step-2-添加软件源信息","aria-label":'Permalink to "Step 2：添加软件源信息"'},"​")],-1),s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"yum-config-manager"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --add-repo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo")])])]),s("button",{class:"code-block-unfold-btn"})],-1),s("h3",{id:"step-3-更改软件源部分信息",tabindex:"-1"},[e("Step 3：更改软件源部分信息 "),s("a",{class:"header-anchor",href:"#step-3-更改软件源部分信息","aria-label":'Permalink to "Step 3：更改软件源部分信息"'},"​")],-1),s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sed"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -i"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 's+download.docker.com+mirrors.aliyun.com/docker-ce+'"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/yum.repos.d/docker-ce.repo")])])]),s("button",{class:"code-block-unfold-btn"})],-1),s("h3",{id:"step-4-更新并安装docker-ce",tabindex:"-1"},[e("Step 4：更新并安装Docker-CE "),s("a",{class:"header-anchor",href:"#step-4-更新并安装docker-ce","aria-label":'Permalink to "Step 4：更新并安装Docker-CE"'},"​")],-1),s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"yum"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," makecache"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," fast")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"yum"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -y"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," docker-ce")])])]),s("button",{class:"code-block-unfold-btn"})],-1),s("hr",null,null,-1),s("h2",{id:"对dcoker进行一些配置",tabindex:"-1"},[e("对Dcoker进行一些配置 "),s("a",{class:"header-anchor",href:"#对dcoker进行一些配置","aria-label":'Permalink to "对Dcoker进行一些配置"'},"​")],-1),s("ol",null,[s("li",null,[e("先运行Docker，生成配置文件："),s("code",null,"systemctl start dokcer")]),s("li",null,[e("编辑配置文件："),s("code",null,"vi /etc/docker/daemon.json")]),s("li",null,[e("键入配置文件： "),s("strong",null,"注意⚠：这个文件不能有任何字符错误，井号及其后面的字符不需要输入（仅作为注释），缩进采用四个空格！"),s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'    "insecure-registries"'),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},":"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"["),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'"0.0.0.0/0"'),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"],"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #防止访问Harbor时报Https错")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'    "exec-opts"'),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},":"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"["),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},'"native.cgroupdriver=cgroupfs"'),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"]"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    #改变docker进程方式为cgroupfs(可以不加次条)")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),s("button",{class:"code-block-unfold-btn"})]),s("a",{href:"https://blog.csdn.net/avatar_2009/article/details/109603870",target:"_blank",rel:"noreferrer"},"cgroupfs和systemd的区别")]),s("li",null,[e("键入Esc，"),s("code",null,":wq"),e("保存退出即可")]),s("li",null,[e("重启docker："),s("code",null,"systemctl restart docker")])],-1)])]),"main-header":a(()=>[i(t.$slots,"main-header")]),"main-header-after":a(()=>[i(t.$slots,"main-header-after")]),"main-nav":a(()=>[i(t.$slots,"main-nav")]),"main-content-before":a(()=>[i(t.$slots,"main-content-before")]),"main-content":a(()=>[i(t.$slots,"main-content")]),"main-content-after":a(()=>[i(t.$slots,"main-content-after")]),"main-nav-before":a(()=>[i(t.$slots,"main-nav-before")]),"main-nav-after":a(()=>[i(t.$slots,"main-nav-after")]),comment:a(()=>[i(t.$slots,"comment")]),footer:a(()=>[i(t.$slots,"footer")]),aside:a(()=>[i(t.$slots,"aside")]),"aside-custom":a(()=>[i(t.$slots,"aside-custom")]),default:a(()=>[i(t.$slots,"default")]),_:3},8,["frontmatter"])}}};export{R as default,f as usePageData};
